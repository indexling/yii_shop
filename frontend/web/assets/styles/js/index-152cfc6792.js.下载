!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(46),i(47),i(77);var n=i(115),o=i(18),s=(i(88),i(116)),a=i(2),r=i(16),l=r.extend({__init:function(e){this.__supr(e),this.__initEvent(),this.__initProductPop(),this.__initFlashSale(),this.__initLazyLoad(),this.__ellipsis(),this.__initShowEllipsis(),this.__initFocusSlickBtnPos(),this.__initStatistics(),$(window).on("resize",function(){this.__initFocusSlickBtnPos()}.bind(this))},__initStatistics:function(){var e=window.json_cateList||[],t=[],i="";e.forEach(function(e,n){for(var o=0;2>o;o++)e.itemList[o]&&e.itemList[o].rcmdVer&&(i=e.itemList[0].rcmdVer,t.push("mod_"+(n+1)+"_item_"+(o+1)))}),i&&o({uuid:a.getCookie("yx_aui"),rcmdVer:i,area:""+t.join(","),key:"category_individuation"})},__initEvent:function(){this.__initFocus(),this.__initNewProduct(),this.__initPopular()},__initFocus:function(){$("#js-focusSlick").slick({arrows:!0,slidesToShow:1,slidesToScroll:1,dots:!0,fade:!0,mobileFirst:!1,autoplay:!0,autoplaySpeed:5e3,speed:500,waitForAnimate:!1,changeSlideByHoverOnDots:!0,prevArrow:'<button type="button" class="slick-prev icon-normal-slick-leftRound w-icon-normal"></button>',nextArrow:'<button type="button" class="slick-next icon-normal-slick-rightRound w-icon-normal"></button>'}),$(".js-CommentSlick").slick({dots:!1,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:!0,arrows:!0,autoplaySpeed:1400,infinite:!0,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-prev icon-normal-slick-leftRound w-icon-normal"></button>',nextArrow:'<button type="button" class="slick-next icon-normal-slick-rightRound w-icon-normal"></button>'})},__initNewProduct:function(){var e=this;$("#js-newItemSlick").slick({dots:!1,speed:500,slidesToShow:4,slidesToScroll:4,autoplay:!1,arrows:!0,autoplaySpeed:1400,infinite:!1,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-prev icon-normal-slick-leftRound w-icon-normal"></button>',nextArrow:'<button type="button" class="slick-next icon-normal-slick-rightRound w-icon-normal"></button>'}),e.newProductPage=1,e.__totalPage=2,$("#js-newItemSlick").on("beforeChange",function(t,i,n,o){var a=Math.floor(o/8)+1;if(a==e.newProductPage&&e.newProductPage<e.__totalPage){var r=s.getNewItem({page:a+1,size:8});r.done(function(t){var i=$("#j-newProductTemplate").jqote(t.data);e.__totalPage=t.data.pagination.totalPage,$("#js-newItemSlick").slick("slickAdd",i),setTimeout(function(){e.__newItemHover(t.data.pagination.page)},0)}),++e.newProductPage}}),e.__newItemHover()},__newItemHover:function(e){var e=e||"";$(".j-newItem .j-product"+e).hover(function(){$(this).find(".j-img1").addClass("f-hide"),$(this).find(".j-img2").removeClass("f-hide")},function(){$(this).find(".j-img2").addClass("f-hide"),$(this).find(".j-img1").removeClass("f-hide")})},__initPopular:function(){var e=$(".j-indexPopularItem header").find(".item");e.on("click",function(){e.removeClass("tab-sel"),$(this).addClass("tab-sel"),$(".j-showContainer").addClass("f-hide"),$(".j-showContainer").eq($(this).data("index")).removeClass("f-hide");var t=["edit","pop_week","hot"];o({uuid:a.getCookie("yx_aui"),area:t[$(this).data("index")],key:"pop_tab"})})},__initLazyLoad:function(){$(".j-lazyload").lazyload({effect:"fadeIn",threshold:200})},__initShowEllipsis:function(){var e=this;$(".comment-content").on("mouseenter",function(){$(this).parents(".bd_comment").addClass("ellipsishover"),e.__applyEllipsis.call(this)}),$(document).on("mouseleave",".comment-content",function(){$(this).parents(".bd_comment").removeClass("ellipsishover"),setTimeout(function(){e.__applyEllipsis.call(this)}.bind(this),405)})},__ellipsis:function(){var e=this;$(".comment-content").each(function(){e.__applyEllipsis.call(this)})},__applyEllipsis:function(){var e=$(this).find("p"),t=$(this).find(".more");e.height()>$(this).height()?(e.text(e.text().substring(0,85)+"..."),t.show()):(e.text(e.attr("origin-content")),t.hide())},__initFocusSlickBtnPos:function(){var e=$("body").width();e>1350?($(".j-focus .slick-prev").css("left",(e-1090)/2-60),$(".j-focus .slick-next").css("right",(e-1090)/2-60)):($(".j-focus .slick-prev").css("left",(e-1090)/2-25),$(".j-focus .slick-next").css("right",(e-1090)/2-25))},__initProductPop:function(){$(".j-newCates .j-product").product(),$(".j-newItem .j-product").product()},__initFlashSale:function(){var e=window.json_promotion;e.itemList&&e.itemList.length>0&&new n({data:{leftTime:e.leftTime,parent:"#flashSaleContainer",nextScreenId:e.nextScreenId,startTime:e.startTime,currentTime:e.currentTime,timeStamp:Math.ceil(e.currentTime+e.leftTime)}})}});$(function(){new l({data:{isShowNewUserGift:!0}})})},,function(e,t,i){var n=i(3),o={_baseUID:(new Date).getTime(),uid:function(e,t,i){return(e||"id_")+this._baseUID++},__cookieCache:{},setCookie:function(e,t,i,n,o){var s=e+"="+escape(t),n=n||"/";if(i&&-1!=i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),s+=";expires="+a.toGMTString()}s+=";path="+n,o&&(s+=";domain="+o),document.cookie=s+";",this.clearCookieCache()},clearCookieCache:function(){this.__cookieCache={}},getCookie:function(e){var t="",i=this.__cookieCache;i.lastTime?t=(new Date).getTime()-i.lastTime<1e3?i.cookie:i.cookie=document.cookie:(i.lastTime=(new Date).getTime(),t=i.cookie=document.cookie);var n=new RegExp(e+"=([^;]+)"),o=n.exec(t);return o?o[1]:null},escapeHTML:function(e){return e?("number"==typeof e&&(e=e.toString()),e.replace(/[\u0000]/g,"").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""},paddingLeft:function(e,t,i){if(e+="",e.length<t){for(var n="",o=0;o<t-e.length;o++)n+=i;return n+e}return e},extend:function(e,t){for(var i in t)"Function"!=typeof e[i]&&(e[i]=t[i])},trimEnd:function(e,t){for(var i=e.length-1,n=e.length-1;n>=0;n--)if(-1==t.indexOf(e.charAt(n))){i=n;break}return e.substring(0,i+1)},getPrice:function(e){return e/100},getUrl:function(e){return $URL.contextPath+e},getPicUrl:function(e,t){var e=e+"?imageView&thumbnail=",i="";return i="S"==t?"50y50":"M"==t?"120y120":"L"==t?"530y530":"V"==t?"610y500":t.indexOf("y")>0?t:"120y120",e+i+"&quality=100"},_$forIn:function(e,t,i){if(!e||!n._$isFunction(t))return null;if(n._$isNumber(e.length)){for(var s=0,a=e.length;a>s;s++)if(t.call(i,e[s],s,e))return s}else if(n._$isObject(e))return o._$loop(e,t,i);return null},_$loop:function(e,t,i){if(e&&t){var n;for(var o in e)if(e.hasOwnProperty(o)&&(n=t.call(i,e[o],o,e)))return o}},_$extend:function(e,t,i){for(var n in t)(void 0==e[n]||i)&&(e[n]=t[n]);return e},_$typeOf:function(e){return null==e?String(e):{}.toString.call(e).slice(8,-1).toLowerCase()},_$merge:function(e,t){var i,n=o._$typeOf(e),s=o._$typeOf(t);if(n!==s)return t;switch(s){case"object":for(var a in t)t.hasOwnProperty(a)&&(e[a]=o._$merge(e[a],t[a]));break;case"array":for(var a=0,i=t.length;i>a;a++)e[a]=o._$merge(e[a],t[a]);e.length=t.length;break;default:return t}return e},_$isNew:function(){return!!this.getCookie("yx_aui")},_$isLogin:function(){var e=window.$global;return e&&0!=e.userid||!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$isLogin2:function(){return!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$isLogin3:function(){return!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$getFullUrsName:function(){var e="";if(this.getCookie("S_INFO"))e="P_INFO";else{if(!this.getCookie("S_OINFO"))return"";e="P_OINFO"}var t=decodeURIComponent(this.getCookie(e)).replace(/(^\"*)|(\"*$)/g,"")||"",i=t.indexOf("|");return i>0&&(t=t.substring(0,i)+""),t},_$getFullUserName:function(){var e=this._$getFullUrsName(),t=window.$global;return t.nickname||e},_$smoothTo:function(e,t){function i(){c+=.05,c>1&&(c=1),window.scrollTo(r.x*c+o.x,o.y+c*r.y),1>c?a=setTimeout(i,l):n()}function n(){clearTimeout(a),document.onmousewheel=null}if("string"==typeof e&&(e=$(e)),e){var o={x:Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),y:Math.max(document.body.scrollTop,document.documentElement.scrollTop)},s=e.offset();s.y-=40;var a,r={x:s.left-o.x,y:s.top-o.y},t=t||500,l=t/60,c=.01;return document.onmousewheel=n,a=setTimeout(i,l),this}},_$getArrayItems:function(e,t){var i=[];for(var n in e)i.push(e[n]);for(var o=[],s=0;t>s&&i.length>0;s++){var a=Math.floor(Math.random()*i.length);o[s]=i[a],i.splice(a,1)}return o},_$string2object:function(e,t){var i={};return this._$forIn((e||"").split(t),function(e){var t=e.split("=");if(t&&t.length){var n=t.shift();n&&(i[decodeURIComponent(n)]=decodeURIComponent(t.join("=")))}}),i},_$getUrlParams:function(){return this._$string2object(window.location.search.replace("?",""),"&")},_$getUrlHashParams:function(){return this._$string2object(window.location.hash.replace("#",""),"&")},_$getUrlParam:function(e){return this._$getUrlParams()[e]||""},_$offset:function(){var e=function(e){return e==document.body||e==document.documentElement};return function(t,i){if(!t)return null;i=i||null;for(var n,o,s,a=t,r={x:0,y:0};a&&a!=i;)n=e(a)||a==t,o=n?0:a.scrollLeft,s=parseInt($(a).css("borderLeftWidth").slice(0,-2))||0,r.x+=a.offsetLeft+s-o,o=n?0:a.scrollTop,s=parseInt($(a).css("borderTopWidth").slice(0,-2))||0,r.y+=a.offsetTop+s-o,a=a.offsetParent;return r}}(),_$openKefu:function(){if(window.ysf){var e=window.$global;if(this._$isLogin()){var t=(this._$getFullUserName(),this._$getFullUrsName());ysf.config({uid:"0"!=e.userid?e.userid:0,name:"0"!=e.userid?e.userid:0,email:t})}ysf.open()}else console.log("please load ysf!")},_$uniqueID:function(){var e=+new Date;return function(){return""+e++}}(),_$getLoginConfig:function(e){var t={product:"yanxuan_web",promark:"SkeBZeG",host:"you.163.com",page:"login",placeholder:{account:"邮箱帐号",pwd:"输入密码"},single:1,gotoRegTextMb:"注册手机帐号",regUrl:"http://reg.163.com/reg/reg.jsp?product=yanxuan_web",cssDomain:"http://yanxuan.nosdn.127.net/",cssFiles:"2792f72d1bf6308f637e10b70a977cf4.css",oauthLoginConfig:[{name:"weixin"},{name:"qq"},{name:"weibo"}]};return e?t.includeBox="j-loginFormWrap":(t.frameSize={width:386,height:444},t.iframeShowAnimation="showAnimation.5s"),t},_$getRebateLoginConfig:function(e){var t={product:"yanxuan_web",promark:"SkeBZeG",host:"you.163.com",page:"login",loginText:"立即查询返现金额",placeholder:{account:"邮箱帐号",pwd:"输入密码"},single:1,regUrl:"http://reg.163.com/reg/reg.jsp?product=yanxuan_web",cssDomain:"http://yanxuan.nosdn.127.net/",cssFiles:"5b62fbe888cddbef97b87ab515a34fd2.css"};return e?t.includeBox="j-login-form":(t.frameSize={width:390,height:330},t.iframeShowAnimation="showAnimation.5s"),t},_$getDownloadLink:function(){var e=this.getCookie("yx_from")||"",t=this._$getUrlParam("channel"),i="/downloadapp";return""!=e&&(i+="?_stat_from="+e),""!=t&&(i+=i.indexOf("?")>0?"&channel="+t:"?channel="+t),i},_$getDownloadQRnode:function(e,t){var i="http://m.you.163.com"+this._$getDownloadLink(),n=new AraleQRCode({text:i,size:e,correctLevel:2});return n},_$createIframe:function(e,t){var i=document.createElement("iframe");i.src=e,t&&(i.attachEvent?i.attachEvent("onload",function(){t(),document.body.removeChild(i)}):i.onload=function(){t(),document.body.removeChild(i)}),document.body.appendChild(i)},_$debounce:function(e,t){var i;return function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,o)},t)}},_$length:function(e){return e.replace(/[^\x00-\xff]/g,"**").length},_$substring:function(e,t){if(this._$length(t)<=e)return t;var i=t.replace(/\*/g,"1").replace(/[^\x00-\xff]/g,"**");return i=i.substring(0,e),/[\*\*]*\*$/.test(i)&&(i=i.substring(0,e-1)),i=i.replace(/\*\*/g,"我"),t.substring(0,i.length)},_$countDown:function(e,t){var i=e.serverTime||Date.parse(new Date),n=e.leftTime||0,o=Date.parse(new Date),s=i+n,a=null;a=window.setInterval(function(){n=s-Date.parse(new Date)+o-i,0>=n&&(n=0,clearInterval(a));var e=Math.floor(n/1e3%60),r=Math.floor(n/6e4%60),l=Math.floor(n/36e5%24),c=Math.floor(n/864e5);t({leftTime:n,seconds:e>9?""+e:"0"+e,minutes:r>9?""+r:"0"+r,hours:l>9?""+l:"0"+l,days:c>9?""+c:"0"+c})},1e3)}};e.exports=o},function(e,t){var i={},n=function(e,t){try{return t=t.toLowerCase(),null===e?"null"==t:void 0===e?"undefined"==t:{}.toString.call(e).toLowerCase()=="[object "+t+"]"}catch(i){return!1}};i._$isFunction=function(e){return n(e,"function")},i._$isString=function(e){return n(e,"string")},i._$isNumber=function(e){return n(e,"number")},i._$isBoolean=function(e){return n(e,"boolean")},i._$isDate=function(e){return n(e,"date")},i._$isArray=function(e){return n(e,"array")},i._$isObject=function(e){return n(e,"object")},e.exports=i},function(e,t,i){var n=i(5),o=[].slice,s=n({__init:function(e){this.__data={},e=e||{},e.events&&this._$on(e.events),this.__data=e.data||{},this.__config&&this.__config(this.__data)},__config:function(e){},_$on:function(e,t){if("object"==typeof e)for(var i in e)this._$on(i,e[i]);else{var n=this,o=n._handles||(n._handles={}),s=o[e]||(o[e]=[]);s.push(t)}return this},_$off:function(e,t){var i=this;if(i._handles){e||(this._handles={});var n,o=i._handles;if(n=o[e]){if(!t)return o[e]=[],i;for(var s=0,a=n.length;a>s;s++)if(t===n[s])return n.splice(s,1),i}return i}},_$emit:function(e){var t,i,n,s=this,a=s._handles;if(e){var i=o.call(arguments,1),n=e;if(!a)return s;if(t=a[n.slice(1)])for(var r=0,l=t.length;l>r;r++)t[r].apply(s,i);if(!(t=a[n]))return s;for(var c=0,l=t.length;l>c;c++)t[c].apply(s,i);return s}}});e.exports=s},function(e,t,i){var n,o;!function(s,a,r){n=r,o="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==o&&(e.exports=o))}("klass",this,function(){function e(e){return o.call(t(e)?e:function(){},e,1)}function t(e){return typeof e===s}function i(e,t,i){return function(){var n=this.__supr;this.__supr=i[r][e];var o={}.fabricatedUndefined,s=o;try{s=t.apply(this,arguments)}finally{this.__supr=n}return s}}function n(e,n,o){for(var s in n)n.hasOwnProperty(s)&&(e[s]=t(n[s])&&t(o[r][s])&&a.test(n[s])?i(s,n[s],o):n[s])}function o(e,i){function o(){}function s(){this.__init?this.__init.apply(this,arguments):(i||c&&a.apply(this,arguments),d.apply(this,arguments))}o[r]=this[r];var a=this,l=new o,c=t(e),d=c?e:this,u=c?{}:e;return s.methods=function(e){return n(l,e,a),s[r]=l,this},s.methods.call(s,u).prototype.constructor=s,s.extend=arguments.callee,s[r].implement=s.statics=function(e,t){return e="string"==typeof e?function(){var i={};return i[e]=t,i}():e,n(this,e,a),this},s}var s="function",a=/xyz/.test(function(){xyz})?/\b__supr\b/:/.*/,r="prototype";return e})},function(e,t,i){e.exports=function(e){!function(e){function t(){null==l&&(e(document.body).append(s),l=e("#widgetDialogContainer"))}function n(t){var i=e(window).height(),n=t.outerHeight();i-n>0?t.css("top",(i-n)/2).show():t.css("top",0).show()}var o='<div class="m-overlay m-overlay-ani <%=this.dialogClsName||""%> ">	        <div class="w-mask w-mask-ani j-mask"></div>	        <div class="m-pop f-scroll-y overlay-container-ani f-tlbr j-overlay-container <%=this.clsName||""%>">	            <div class="j-w-dialog-body">	                <div class="j-w-dialog-head">	                    <div class="w-close j-close-pop"></div>	                </div>	                <div class="popwin-bd j-w-dialog-content">	                </div>	            </div>	        </div>	        </div>',s='<div id="widgetDialogContainer"></div>',a=1130,r=20,l=null,c=i(7);e.fn.extend({showDialog:function(i){var s,d,u,p,f,h=this;return i=i||{},e("body").addClass("modal-open"),t(),s=e(e.jqote(o,i)),d=s.find(".j-w-dialog-body"),u=s.find(">.j-mask"),p=s.find(">.j-overlay-container"),f=d.find(">.j-w-dialog-content"),f.append(h.html()),l.append(s),n(p),e(window).resize(function(){n(p)}),c.dockIn(d,e(window),{position:"middle,center",dockFunc:"css"}),i.close===!1&&s.find(".j-close-pop").hide(),a+=r,s.css("z-index",a),s.removeClass("f-ani-overlay"),u.addClass("f-ani-mask"),p.addClass("f-ani-bouncein"),d.find(".j-close-pop").bind("click",function(){s.closeDialog(i)}),s},closeDialog:function(t){var i=this;e("html");i.addClass("f-ani-overlay"),setTimeout(function(){t&&"function"==typeof t.onbeforeclose&&t.onbeforeclose(),mask=i.find(">.j-mask"),overlay=i.find(">.j-overlay-container"),mask.removeClass("f-ani-mask"),overlay.removeClass("f-ani-bouncein"),i.remove(),t&&"function"==typeof t.onclose&&t.onclose(),e("body").removeClass("modal-open")},200)}})}(e)}},function(e,t){function i(e){var t=0;if("BODY"==e.get(0).tagName)return 0;"absolute"!=e.css("position")&&(t=e.scrollTop());var n=e.parent();return n&&n.get(0)?t+i(n):t}var n=64,o=[],s="",a={dockV:function(e,t,n){var o="",s="";if(n=$.extend({axis:"left,bottom"},n),n.axis){var a=n.axis.match(new RegExp("(left|center|right)"));a&&a.length>0&&(o=a[0]);var a=n.axis.match(new RegExp("(bottom|middle|top)"));a&&a.length>0&&(s=a[0])}var r=t.offset(),l=t.outerWidth(),c=t.outerHeight(),d=e.offsetParent();if(n.position&&(l=0,c=0,r=n.position),n.iframe){var u=n.iframe.offset();r.top=r.top+u.top,r.left=r.left+u.left}var p=e.outerWidth(),f=e.outerHeight(),h=d.offset(),m=h.left,v=h.top,_=0;"left"==o?_=r.left:"right"==o?_=r.left+l-p:"center"==o&&(_=r.left-(p-l)/2),_-=m;var g=1,w=0;"bottom"==s?(w=r.top+c,w-=g):"top"==s?(w=r.top-f,w+=g):"middle"==s&&(w=r.top-(f-c)/2),w-=v;var y=i(e);w+=y;var b=$.extend({x:0,y:0},n.positionFix);_+=b.x,w+=b.y,e.css("left",_+"px"),e.css("top",w+"px")},dockIn:function(e,t,i){var n="center",o="middle";if(i.axis){var s=i.axis.match(new RegExp("(left|center|right)"));s&&s.length>0&&(n=s[0]);var s=i.axis.match(new RegExp("(bottom|middle|top)"));s&&s.length>0&&(o=s[0])}var a=0,r=0,t=t||$(window),l=t.outerWidth(),c=t.outerHeight(),d=t.scrollTop(),u=e.outerWidth(),p=e.outerHeight();"center"==n?a=(l-u)/2:"right"==n?a=l-u:"left"==n&&(a=0),"middle"==o?r=(c-p)/2:"bottom"==o?r=c-p:"top"==o&&(r=0),r=d+r;var f=$.extend({x:0,y:0},i.positionFix);a+=f.x,r+=f.y,"css"===i.dockFunc?e.css({left:a,top:r}):e.offset({left:a,top:r})},addPop:function(e,t){var i=$(e);i.css("z-index",n++),o.push(i),void 0!=t&&(s=t)},clearPop:function(e){for(var t=$(e),i=o.length-1;i>=0;i--){var n=o[i];if(n.hasClass("f-ani-ppnlmenu")){if(0==t.length||t.length>0&&!$.contains(n.get(0),t.get(0))&&""==s||t.length>0&&s.length>0&&!$.contains(s.get(0),t.get(0))){try{n.removeClass("f-ani-ppnlmenu"),n.hasClass("js-dropmenu-ppnl")?n.addClass("f-hide"):setTimeout(function(){n.addClass("f-hide")},200)}catch(a){n.remove()}o.splice(i,1)}}else o.splice(i,1)}}};$(document).bind("mousedown",function(e){return a.clearPop(e.target),!0}),e.exports=a},,function(e,t,i){var n=i(10),o=i(2),s={xhrQueue:{},ajax:function(e){var t=this,i=e.url;if(!i)return!1;e.requestTime=new Date,e.param&&(i=n.appendURL(i,e.param)),o.getCookie("yx_csrf")&&(i=n.appendURL(i,{csrf_token:o.getCookie("yx_csrf")})),e.type&&"get"==e.type.toLowerCase()&&(i=n.appendURL(i,{__timestamp:e.requestTime.getTime()}));var s,a,r=e.data||{};s=e.dataType?e.dataType:"json",e.contentType&&(a=e.contentType),"undefined"==typeof a||a===$.ajaxSettings.contentType?r=$.param(r,!0):"application/json"===a&&(r=$.toJSON(r));var l=i+$.toJSON(r),c=t.xhrQueue[l];if(c){var d=c[c.length-1];if(t.xhrQueue[l].push(e),e.requestTime-d.requestTime<3e4)return}else t.xhrQueue[l]=[e];var u=function(e,i,n){var o=t.xhrQueue[l];delete t.xhrQueue[l],o&&($.each(o,function(t,o){o.error&&o.error(e,i,n)}),$.each(o,function(t,o){o.exception&&o.exception.dispatch(e,i,n)}))},p=function(e){var i=t.xhrQueue[l];delete t.xhrQueue[l],$.each(i,function(t,i){i.success&&i.success(e)})},f={url:i,type:e.type||"POST",dataType:s,contentType:a,data:r,async:0==e.async?!1:!0,success:function(e){/^(html|text)$/i.test(s)?p(e):e?e.status&&e.statusText?u(e.status,e.status||"",e):"S_OK"==e.code||"200"==e.code||"201"==e.code?p(e):e.code?u(e.code,e.errorCode||"",e):p(e):u("502","error","no reponse text")}.bind(this),error:function(e,t,i){u("NET_ERROR","",t)}.bind(this)};$.ajax(f)}};e.exports=s,$.ajaxSettings.contentType="application/x-www-form-urlencoded; charset=UTF-8"},function(e,t){var i={cropURL:function(e,t){for(var i=e,n=0;n<t.length;n++){var o=new RegExp("[&]?"+t[n]+"=[^&]+","g");i=i.replace(o,"").replace("?&","?")}return i},getUrlParams:function(e){var t={};if(!e||-1==e.indexOf("?"))return t;for(var i=e.indexOf("?"),n=e.substring(i+1),o=n.split("&"),s=0;s<o.length;s++){var i=o[s].indexOf("=");-1!=i&&(t[o[s].substring(0,i)]=decodeURIComponent(o[s].substring(i+1)))}return t},appendURL:function(e,t){var i=e||"";if(!t)return i;var n=i.split("?"),o=n[0]+"?"+$.param(t,!0);return 2==n.length&&(o=o+"&"+n[1]),o.replace(/&+/gm,"&")},urlHttpsile:function(e,t){var i=e||"",n=$URL.proxyURL;return t&&(n=$URL.mimgProxyURL),0==i.indexOf("http://")?n+i.replace("http://",""):i},jsonp:function(e,t,i){var n=$.extend({charset:"utf-8"},i),o="_tmp_jsonp_callback"+ +new Date;n.funcName&&(o=n.funcName),window[o]=function(){t&&t.apply(window,arguments);try{delete window[o]}catch(e){}};var s={};s[n.callbackName||"callback"]=o;var a=this.appendURL(e,s);this.getScript(a,n.charset,function(){try{window[o](),delete window[o]}catch(e){}})},getScript:function(e,t,i,n){var o=function(){i&&i.apply(window,arguments)};this._getScript(e,t,o,n)},_getScript:function(e,t,i,n){setTimeout(function(){var o=/loaded|complete|undefined/,s=document.createElement("script");s.setAttribute("charset",t||"utf-8"),s.setAttribute("type","text/javascript"),s.setAttribute("src",e),s.async="async";var a=function(e){o.test(s.readyState)&&(s.onload=s.onerror=s.onreadystatechange=null,s.parentNode.removeChild(s),s=void 0,e?"function"==typeof i&&setTimeout(i,0):"function"==typeof n?setTimeout(n,0):"function"==typeof i&&setTimeout(i,0))};s.onload=function(){a(!0)},s.onerror=function(){a(!1)},s.onreadystatechange=function(){a(!0)};var r=document.getElementsByTagName("head")[0];r.appendChild(s)},0)},getPicUrl:function(e,t,i){var i=i||90,n={quality:i};return t&&(n.thumbnail=t),this.appendURL(e,n)+"&imageView"}};e.exports=i},function(e,t,i){var n=i(12),o={isEmpty:function(e){return""==$.trim(e)?!0:!1},isLegal:function(e,t){var i=/[,%\'\"\/\\;|&*\<\>]/;return i.test(e)?!1:!0},isTel:function(e){var t=/^\d+$/g;return 0!=e.search(t)?!0:!1},isTelPhone:function(e){return/^\d{3,4}-\d{7,8}$/.test(e)?!0:!1},isNumber:function(e){return/^[0-9]*$/.test(e)?!0:!1},isEmail:function(e){return n.isValid(e)?!0:!1},isCellPhone:function(e){return 11==e.length&&/^1[34578][0-9]{9}$/.test(e)?!0:!1},isOverflow:function(e,t){return t=t||20,this.getStringLength(e)>t?!0:!1},isDate:function(e,t){e=(e+"").replace("-","");var i=/(\d{4})(0\d|1[012])(0\d|[12]\d|3[01])/;if(e.length<6||e.length>8||/[^0-9]/g.test(e))return"日期格式不正确";if(6==e.length)e=e.replace(/((?=((\d){1,2})$))/g,"0");else if(7==e.length){var n=e.replace(/(\d)$/g,"0$1");e=i.test(n)?n:e.replace(/(\d{3})$/g,"0$1")}return i.test(e)?(e=e.replace(/((?=((\d{2}){1,2})$))/g,"-"),t?e:!0):"日期格式不正确"},isPic:function(e){var t,i=!1;if(-1!==e.indexOf(".")){t=e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase();for(var n=["bmp","jpg","png","tiff","gif","pcx","tga","exif","fpx","svg","cdr","pcd","dxf","ufo","eps","raw"],o=0;o<n.length;o++)if(t===n[o]){i=!0;break}}return t&&i},getStringLength:function(e){var t=0,i=0;for(i=0;i<e.length;i++)e.charCodeAt(i)>255?t+=2:t++;return t},isChinese:function(e){for(var t=!1,i=0,n=e.length;n>i;i++)if(e.charCodeAt(i)>255){t=!0;break}return t},is163Email:function(e,t){var i=this,n=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];if(n=$.makeArray(t).concat(n),i.isEmail(e)){var o=e.split("@")[1];return $.inArray(o,n)<0?!1:!0}return!1},__log:function(e){console.log(e)},checkPositiveNumber:function(e,t,i){return i||"undefined"!=typeof t?"number"!=typeof t?(this.__log(e,"应该是数字"),!1):0>=t?(this.__log(e,"应该是正数"),!1):!0:!0},checkNotNegativeNumber:function(e,t,i){return i||"undefined"!=typeof t?"number"!=typeof t?(this.__log(e,"应该是数字"),!1):0>t?(this.__log(e,"应该是非负数"),!1):!0:!0},checkNotEmptyString:function(e,t,i){return i||"undefined"!=typeof t&&("string"!=typeof t||""!==t)?"string"!=typeof t?(this.__log(e,"应该是字符串"),!1):0===$.trim(t).length?(this.__log(e,"应该是非空字符串"),!1):!0:!0},checkStringInArray:function(e,t,i,n){return n||"undefined"!=typeof t?this.checkNotEmptyString(e,t,n)?-1===$.inArray(t,i)?(this.__log(e,"字符串应该在数组中"),!1):!0:!1:!0},checkArray:function(e,t,i,n){if(!n&&"undefined"==typeof t)return!0;if(!$.isArray(t))return this.__log(e,"应该是数组"),!1;for(var o=0;o<t.length;o++)if(typeof t[o]!==i)return this.__log(e,"应该是类型："+i),!1;return!0},checkBoolean:function(e,t,i){return(i||"undefined"!=typeof t)&&"boolean"!=typeof t?(this.__log(e,"应该是boolean"),!1):!0},isID:function(e){var t=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;return t.test(e)?!0:!1}};e.exports=o},function(e,t){for(var i="([\\w!#$%&'*+-/=?\\^_`{|}~\\.]+)",n="([-\\w]+(\\.[-\\w]+)+)",o=i+"@"+n,s=['\\"(.+)\\"[ ]*<'+o+">","\\'(.+)\\'[ ]*<"+o+">","([^\"']+)<"+o+">","<"+o+">",'\\"'+o+'\\"',"\\'"+o+"\\'",o,"[ \\\"\\']?(.+)[ \\\"\\']?[ ]*<[ ]*"+o+"[ ]*>"],a=[],r=s.length-1;r>=0;r--)a.push(new RegExp(s[r]));var l={_cache:{},emailPattern:"(\\w+[\\w\\-\\+]*\\w+@\\w+[\\w\\.\\-]*\\w+)",DEFAULT_SEP:";",isValid:function(e){return null!=this._parseEmail(e)},_parseEmail:function(e){e=$.trim(e);for(var t={},i=0;i<a.length;i++){var n=e.match(a[i]);if(null!=n)return 5==n.length?(t.name=n[1].replace(/"/g,""),t.mail=n[2]+"@"+n[3],t):4==n.length?(t.name=n[1].replace(/"/g,""),t.mail=n[1]+"@"+n[2],t):null}}};e.exports=l},function(e,t,i){var n=i(4),o=i(2),s=i(3),a=n.extend({template:'<div class="m-notify hide"><div class="text j-text"></div></div>',iconMap:{success:"u-ok",fail:"u-fail",error:"u-fail",warning:"u-warning"},__config:function(e){o._$extend(e,{messages:"",isHide:!0,type:"",clazz:"hide",duration:2e3})},__init:function(e){this.__supr(e),this.__body=$(this.template),this.__textCon=this.__body.find(".j-text").first(),$(document.body).append(this.__body)},notify:function(e,t,i,n){e&&"object"==typeof e&&(t=e.type,e=e.message,i=e.duration,n=e.callback),this.__data.duration=i||this.__data.duration,this.__data.message=e,this.__data.type=t||"success",this.__data.callback=n||null,this.__body.css("display","block"),this.__textCon.html(this.__data.message);var o=this.__clear.bind(this,e);return setTimeout(function(){this.__body.removeClass("hide").addClass("show")}.bind(this),0),this.__timer&&clearTimeout(this.__timer),-1!=this.__data.duration&&(this.__timer=setTimeout(o,this.__data.duration)),o},__clear:function(e){this.__body.removeClass("show").addClass("hide"),s._$isFunction(this.__data.callback)&&this.__data.callback(),setTimeout(function(){this.__body.css("display","none")}.bind(this),500)}}),r=new a;r.Notify=a,e.exports=r},,function(e,t){e.exports={ERROR_MAP:{"Validate.Error.0009":"密码错误次数超过每小时上限","Validate.Error.0010":"密码错误次数超过每天上限","Validate.Error.0011":"支付密码错误","Validate.Error.0012":"还没设置支付密码","Validate.Error.0014":"请求错误或超时，请刷新后重试"},DFT_ERROR_MSG:"系统繁忙，请稍后再试",PROMOTION_TYPE_MAP:{0:"无促销",1:"赠券",2:"满赠",3:"满减",4:"加价购",101:"赠券",102:"满赠",103:"满减",104:"加价购",105:"套装",106:"N元购",201:"秒杀",202:"限时购",203:"限时购",301:"免邮",302:"免邮",302:"免邮"},BLANK_PIC:"http://yanxuan.nosdn.127.net/3d045b93716ed28dc745e648b3428a26.gif",LOADING_PIC:"http://yanxuan.nosdn.127.net/9f5063da9f5d2a404de7872160db22d4.gif"}},function(e,t,i){var n=i(4),o=i(2),s=i(17),a=i(19),r=i(24),l=i(31),c=i(32),d=i(33),u=n.extend({__config:function(e){o._$extend(e,{isHideHeader:!1,isHideFooter:!1,isHideFixedTool:!1,isHideNewUserCookie:!1,isShowNewUserGift:!1})},__init:function(e){this.__supr(e),this.__data.isHideHeader||new r,this.__data.isHideFooter||new a,this.__data.isHideFixedTool||(new s,this.__isShowNewUserEntrance()),o._$isNew()||this.__data.isHideNewUserCookie?this.__initNewUserGift():l.confirm({url:location.pathname+location.search}).done(function(e){this.__initNewUserGift()}.bind(this)),$("video").each(function(e,t){t.volume=.1})},__initNewUserGift:function(){var e=this;if("web_in_morenye"==o._$getUrlParam("from"))return void c.show().done(function(t){var i=t.data;if(i.showGiftWin&&i.newUserGift){new d({data:{obj:i.newUserGift},events:{onCancel:function(){e.__isShowNewUserEntrance()},onOk:function(){e.__isShowNewUserEntrance()}}})}});window.PAGE_KEY=location.href;for(var t=unescape(o.getCookie("yx_pagekey_list")||""),i=""==t?[]:t.split(","),n=!0,s=0,a=i.length;a>s;s++)if(i[s]==window.PAGE_KEY){n=!1;break}n&&i.length<31&&window.PAGE_KEY.length<250&&(i.push(window.PAGE_KEY),o.setCookie("yx_pagekey_list",i.join(",")));var r=!0,l=o._$getFullUrsName();this.__data.isShowNewUserGift&&$(window).bind("focus",function(){var t=unescape(o.getCookie("yx_pagekey_list")||""),i=""==t?[]:t.split(","),n=o.getCookie("yx_newUserModal_show");l!=o._$getFullUrsName()&&(l=o._$getFullUrsName(),r=!0),r&&1==n&&1==i.length&&(r=!1,c.show().done(function(t){var i=t.data;if(i.showGiftWin&&i.newUserGift){new d({data:{obj:i.newUserGift},events:{onCancel:function(){e.__isShowNewUserEntrance()},onOk:function(){e.__isShowNewUserEntrance()}}})}}))}),window.onbeforeunload=function(e){e=e||window.event;for(var t=unescape(o.getCookie("yx_pagekey_list")||""),i=t.split(","),n=[],s=0,a=i.length;a>s;s++)i[s]!=window.PAGE_KEY&&n.push(i[s]);o.setCookie("yx_pagekey_list",n.join(",")),o.setCookie("yx_newUserModal_show",1)}},__isShowNewUserEntrance:function(){return null==o.getCookie("yx_showNewUserEntrance")?($("#js-fixedtool").removeClass("m-fixedtool-newuser"),void $(".j-newuser").hide()):void c.isNewUser().done(function(e){e.data&&e.data.isNewUser&&e.data.showEntrance?($("#js-fixedtool").addClass("m-fixedtool-newuser"),$(".j-newuser").show()):($("#js-fixedtool").removeClass("m-fixedtool-newuser"),$(".j-newuser").hide())})}});e.exports=u},function(e,t,i){var n=i(2),o=i(4),s=i(18),a=o.extend({__init:function(e){this.__supr(e),this.__fixedtool=$("#js-fixedtool"),this.__goTopBtn=$("#js-fixedtoolGoTop"),this.__fixedtool.length&&(this.__initFixedTool(),this.__initEventBind(),this.__initKeFu(),this.__downloadQRcode(),this.__initfixedToolStatistics())},__initFixedTool:function(){var e=this.__fixedtool;this.__positionFixedtool(),this.__showGoTopIfNeeded(),e.show()},__initEventBind:function(){$(window).on("resize.fixedtool",this.__positionFixedtool.bind(this)),$(window).on("scroll.fixedtool",this.__showGoTopIfNeeded.bind(this)),$("body").on("click.fixedtool","#js-fixedtoolGoTop",function(e){return e.preventDefault(),this.__goTop(),!1}.bind(this))},__initKeFu:function(){$("#js-fixedtoolCustomerService").click(function(){n._$openKefu()})},__positionFixedtool:function(){var e=this.__fixedtool,t=document.documentElement.clientWidth,i=parseInt(e.css("right")),n=1350>=t?1280>=t?0:(t-1090)/2-95:(t-1090)/2-130;i!==n&&e.css("right",n)},__showGoTopIfNeeded:function(){var e=this.__goTopBtn,t=$(document).scrollTop(),i=document.documentElement.clientHeight;t>=i?e.addClass("active"):e.removeClass("active")},__goTop:function(){$("body, html").animate({scrollTop:0},800)},__downloadQRcode:function(){var e=n._$getDownloadQRnode(75,20);$("#js-fixedtool .j-qrcode").append(e),$("#js-fixedtool .j-downloadlink").attr("href",n._$getDownloadLink())},__initfixedToolStatistics:function(){$(".j-fixedToolActivity").each(function(){var e=$(this),t=n.getCookie("yx_aui"),i=e.data("id");s({uuid:t,key:"侧边栏活动展示",id:i})})}});e.exports=a},function(e,t){e.exports=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(""+i+"="+e[i]);t.push("type=web&rid="+(new Date).getTime());var n="http://stat.mail.163.com/you/a.js?"+t.join("&");n=encodeURI(n);var o=$.get(n);setTimeout(function(){o.abort()},3e4)}},function(e,t,i){var n=i(20),o=i(2),s=i(4),a=s.extend({__init:function(e){this.__supr(e),$("#j-feedback").click(function(e){e.preventDefault(),n.show()}),$("#j-kefu").click(function(){o._$openKefu()});var t=o._$getDownloadQRnode(104,25);$(".m-ftAppDownload .j-qrcode").append(t)}});e.exports=a},function(e,t,i){function n(){r($)}function o(){c.init({before:function(e){s=$(d),s.find("#j-feedbackFormWrap").append(e),a=s.showDialog({clsName:"m-feedbackPop"})},success:function(){a.closeDialog(),setTimeout(function(){l.notify("提交成功")},100)}})}var s,a,r=i(6),l=(i(2),i(13)),c=i(21),d=["<div>",'<div class="m-feedbackModal">','<h3 class="title">关于严选，我们还有很多希望与您交流</h3>','<div id="j-feedbackFormWrap"></div>',"</div>","</div>"].join("");
t.show=o,n()},function(e,t,i){function n(e){S=e,o(),b.click(function(e){e.preventDefault(),a()}),x.limitIpt({limit:500,update:function(e){g.text(e.length)}}),w.click(function(){h()}),y.click(function(e){e.preventDefault(),h()})}function o(){var e=s(S.formType);S.before(e),v=$("#j-feedbackForm"),_=$("#j-feedbackError"),g=$("#j-feedbackTotalCount"),w=$("#j-feedbackCaptcha"),y=$("#j-feedbackUnclear"),b=$("#j-feedbackSubmit"),x=v.find("[name=content]"),k=v.find("[name=mobile]"),T=v.find("[name=verifyCode]"),x.val("")}function s(e){var e=e||"suggestion",t=m();return $(D).jqote($.extend({captchaUrl:t},I[e]))}function a(){var e={},t=$.trim(k.val());c(),r()&&(e.content=$.trim(x.val()),t&&(e.mobile=t),e.verifyCode=$.trim(T.val()),P.submit(e).then(function(e){l(),S.success()},function(e,t){p(t)}))}function r(){var e=$.trim(x.val()),t=$.trim(k.val()),i=$.trim(T.val());return e?t&&!C.isCellPhone(t)?(p("手机号码格式错误(11位数字)"),d(k),!1):i?!0:(p("验证码不能为空"),d(T),!1):(p("内容不能为空"),d(x),!1)}function l(){c(),x.val(""),k.val(""),T.val(""),h()}function c(){f(),x.removeClass("error"),k.removeClass("error"),T.removeClass("error")}function d(e){u(e),e.focus()}function u(e){e.addClass("error")}function p(e){_.find(".text").text(e),_.removeClass("f-hide")}function f(){_.addClass("f-hide")}function h(){w.attr("src",m())}function m(){return N+"&rand="+j.uid()}var v,_,g,w,y,b,x,k,T,S,C=i(11),j=i(2),A=i(22),P=i(23),I=(i(13),{suggestion:{cntLabel:"反馈内容",cntPlaceholder:"对我们网站、商品、服务，您还有什么建议吗？您还希望在严选上买到什么？请告诉我们..."},expert:{cntLabel:"自我介绍",cntPlaceholder:"例如，小严，男，程序猿，擅长甄选家居用品、数码产品。因为父母从事家居用品相关的行业而受熏陶，且自身爱好摄影等数码产品。我觉得严选一个性价比很高的网站，有“花小钱办大事”的感觉，希望能成为甄选家中的一员，为广大普通消费者甄选良心价的好东西。等等……",clsName:"feedbackForm-expert"}}),N="/xhr/feedback/verifyCode.do?csrf_token="+j.getCookie("yx_csrf"),D=['<script type="text/x-jqote-template">','<form id="j-feedbackForm" class="form m-feedbackForm <%= this.clsName %>">','<div class="formGroup formGroup-feedbackCnt">',"<label><%= this.cntLabel %></label>",'<textarea class="inputControl" name="content" placeholder="<%= this.cntPlaceholder %>"></textarea>','<div class="tip"><span id="j-feedbackTotalCount">0</span>/500</div>',"</div>",'<div class="formGroup formGroup-phone">',"<label>手机号码</label>",'<div class="inputGroup">','<input class="inputControl" autocomplete="off" name="mobile" type="text">','<span class="tip">方便我们与您联系</span>',"</div>","</div>",'<div class="formGroup formGroup-captcha">',"<label>验证码</label>",'<div class="inputGroup">','<input class="inputControl" autocomplete="off" name="verifyCode" type="text">','<img id="j-feedbackCaptcha" class="captcha" src="<%= this.captchaUrl %>">','<a id="j-feedbackUnclear" class="unclear w-link" href="javascript:;">看不清</a>',"</div>",'<div class="submitGroup">','<a id="j-feedbackSubmit" class="w-button w-button-primary w-button-l">提交</a>','<div id="j-feedbackError" class="w-tipMsg tipMsg f-hide" href="javascript:;">','<i class="icon w-icon-normal icon-normal-disable"></i>','<span class="text"></span>',"</div>","</div>","</div>","</form>","</script>"].join("");A($),t.init=n},function(e,t){e.exports=function(e){e.fn.limitIpt=function(t){var i=e(this);i.on("keyup cut paste input",function(){var e=i.val();e.length>t.limit&&(e=e.substring(0,t.limit),i.val(e)),t.update.apply(this,[e])})}}},function(e,t,i){var n=i(9),o={submit:function(e){var t=$.Deferred();return n.ajax({url:"/xhr/feedback/submit.json",contentType:"application/json",data:e,success:function(e){t.resolve(e)},error:function(e,i,n){t.reject(e,i)},type:"POST"}),t}};e.exports=o},function(e,t,i){var n=i(13),o=i(2),s=i(4),a=i(25),r=i(26),l=i(27),c=i(28),d=i(29),u=i(18);i(30);var p=s.extend({__init:function(e){this.__supr(e),this.__initNoticeList(),this.__initDownloadQRnode(),this.__initCartNum(),this.__initUcenterDropDown(),this.__initTopbarLink(),this.__initNav(),this.__initSubNav(),this.__initNavItem(),this.__initSearch(),this.__initMiniCartEvent()},__initCouponCount:function(){c.count().done(function(e){void 0!=e.data&&$(".useableCouponCount").text("("+e.data.count+")")})},__initCollectionCount:function(){var e=d.getCollectNum();e.done(function(e){var t=e.data;t=t>999?"999+":t,$(".collectItemCount").text(t)}),e.fail(function(){})},__initDownloadQRnode:function(){var e=o._$getDownloadQRnode(117,30);$(".m-hdAppDownload .j-qrcode").append(e),$(".m-hdAppDownload .j-downloadlink").attr("href",o._$getDownloadLink())},__initNoticeList:function(){var e=$(".j-topNoticeList");e.css("display","block"),e.each(function(){function t(){setTimeout(function(){clearTimeout(i),n.stop(!0,!0).animate({top:parseInt(n.css("top"))-a},500,function(){var e=parseInt(n.css("top"));e+n.height()<=a&&n.css({top:0}),i=t()})},5e3)}var i,n=$(this).find(".j-list"),s=n.find(".j-notice"),a=e.height();e.each(function(e,t){$(t).hasClass("limitLength")&&$(t).find(".j-notice").each(function(e,t){var i=$(t).find(".txt"),n=20,o="...";i.text().length>n&&i.text(i.text().substring(0,n+1)+o)})}),s.length>1&&($(s[0]).clone().appendTo(n),i=t(),s.each(function(e,t){var i=$(t).find("a"),n=i.text(),s=i.attr("href")+"&_stat_refer="+window.location.pathname;i.attr("href",s),""!=n&&u({uuid:o.getCookie("yx_aui"),page:window.location.pathname,content:n,key:"notice_board"})}))})},__initCartNum:function(){var e=this;this.__updateCartNum(),$(".j-cart-num").on("refreshCartNum",e.__updateCartNum),$(".j-cart-num").on("addCartItem",function(t,i){e.__updateCartNum(),$(".j-mini-cart").is(":animated")||e.__getCartData(e.__miniCartAnimation)})},__miniCartAnimation:function(){$(".j-mini-cart").slideDown(500,function(){this.__delayAnmation=window.setTimeout(function(){$(".j-mini-cart").stop(!0,!1).slideUp(300)},2e3)})},__updateCartNum:function(){a.getMiniCartNum().done(function(e){e.data>99?$(".j-cart-num").html("99+").addClass("icon-normal-badge-l").removeClass("icon-normal-badge"):$(".j-cart-num").html(e.data)}).fail(function(e){})},__renderMiniCart:function(e){var t=this,i='	    <%if(this.cartItemList.length > 0){%>	      <div class="wrap">	        <i class="tw-1"></i>	        <i class="tw-2"></i>	        <div class="g-cartInfo j-cartInfo">	          <% var data=this.cartItemList;	          for(var i=0; i<data.length; i++){%>	          <div class="cartItem">	            <div class="item item-left">	              <a href="/item/detail?id=<%=data[i].itemId%>"><img src="<%=data[i].pic%>?quality=90&thumbnail=60x60&imageView" /></a>	              <%if(data[i].preSellStatus != null && data[i].preSellStatus ==1){%>	                <%if(data[i].preSellVolume == 0){%>	                  <p class="g-sellOut">已售罄</p>	                <%}%>	              <%}else{%>	                <%if(data[i].valid && data[i].sellVolume == 0){%>	                  <p class="g-sellOut">已售罄</p>	                <%}%>	                <%if(!data[i].valid){%>	                  <p class="g-offShift">已下架</p>	                <%}%>	              <%}%>	            </div>	            <div class="item item-middle">	              <p><a href="/item/detail?id=<%=data[i].itemId%>" title="<%=data[i].itemName%>"><%=data[i].itemName%></a></p>	              <p><span class="specValue" title="<% for(var j=0; j<data[i].specList.length; j++){%> <%=data[i].specList[j].specValue} %>"><% for(var j=0; j<data[i].specList.length; j++){%> <%=data[i].specList[j].specValue} %></a></span> <span class="count">x&nbsp;<%=data[i].cnt%></span></p>	            </div>	            <div class="item item-right">	              <p class="price">&yen;<%= Number(data[i].actualPrice).toFixed(2)%></p>	              <p class="deleteItem j-deleteItem"><i class="w-icon-normal icon-normal-cart-close" style="width:10px;height:10px;display:inline-block;"></i></p>	              <input type="hidden" value="<%=data[i].skuId%>" />	            </div>	          </div>	          <%}%>	        </div>	        <div class="cartBottom">	         <div class="totalPrice">商品合计:&nbsp;<span>&yen;<%= Number(this.totalPrice).toFixed(2)%></span></div>	         <div class="goToCart"><a class="btn w-button w-button-primary" href="/cart">去购物车结算</a></div>	        </div>	      </div>	    <%}';e=e.data,e.cartItemList&&t.__enableBodyScroll();var n=$.jqote(i,e);$("#newMiniCart").html(n),t.__scrollTopValue&&($(".j-cartInfo").scrollTop(t.__scrollTopValue),t.__scrollTopValue=0),t.__bindDeleteEvent()},__getCartData:function(e){var t=a.getMiniCart();t.done(function(t){this.__renderMiniCart(t),e&&setTimeout(function(){e()},10)}.bind(this))},__bindDeleteEvent:function(){var e=this;$(".j-deleteItem").on("click",function(){var t=$(this).parent().children("input").val();e.__scrollTopValue=$(".j-cartInfo").scrollTop(),e.__deleteCartItem(t)})},__handleCartHover:function(){return this.__urlHasCart()?!1:(this.__getCartData(),this.__updateCartNum(),void $(".j-mini-cart").show())},__forbidBodyScroll:function(){var e=$("body").width();$("body").css("overflow","hidden");var t=$("body").width();$("body").css("marginRight",t-e),$(".m-funcTab-fixed").css("paddingRight",t-e),this.__fixedToolRight=Number.parseInt($(".m-fixedtool").css("right")),$(".m-fixedtool").css("right",this.__fixedToolRight+t-e)},__enableBodyScroll:function(){$("body").css({overflow:"auto",marginRight:0}),$(".m-funcTab-fixed").css("paddingRight",0),$(".m-fixedtool").css("right",this.__fixedToolRight)},__urlHasCart:function(){var e,t=window.location.pathname;return e=t.indexOf("cart")>=0?!0:!1},__initMiniCartEvent:function(){var e=this;$(".j-button-cart, .j-cart").on("mouseenter",function(){var t=$(".j-mini-cart").css("display");return"block"==t?!1:void e.__handleCartHover()}),$(".j-button-cart, .j-cart").on("mouseleave",function(e){var t=$(e.relatedTarget);return t.hasClass("j-mini-cart")?!1:($(".j-cartInfo").scrollTop(0),void $(".j-mini-cart").hide())}),$(".j-mini-cart").on("mouseleave",function(t){e.__enableBodyScroll();var i=$(t.relatedTarget);return i.hasClass("icon-normal-blackcart")?!1:($(".j-cartInfo").scrollTop(0),void $(".j-mini-cart").hide())}),$(".j-mini-cart").on("mouseenter",function(){e.__forbidBodyScroll(),$(this).stop(!0),$(this).show(),window.clearTimeout(this.__delayAnmation)})},__deleteCartItem:function(e,t){var i=a.deleteCart({selectedSku:JSON.stringify({skuList:[{skuId:e,gift:!1,promId:0}]})});i.then(function(){this.__getCartData(),this.__updateCartNum()}.bind(this),function(e,t,i){n.notify(t||"删除购物车失败","error"),this.__getCartData()}.bind(this))},__initUcenterDropDown:function(){var e=null,t=this;$(".js-userCenterToggle").on("click",function(e){e.stopPropagation()}),$(".js-userCenter").hover(function(){t.__initCouponCount(),t.__initCollectionCount(),e=setTimeout(function(){$(this).find(".js-userCenterToggle").trigger("show.jq-dropdown")}.bind(this),200)},function(){clearTimeout(e),$(this).find(".js-userCenterToggle").trigger("hide.jq-dropdown")})},__initTopbarLink:function(){var e=$(".j-topRegister");e.length&&e.attr("href",e.data("href")+"&url="+encodeURIComponent(window.location.href)),$(".j-topLogin").attr("href","/u/login?callback="+encodeURIComponent(window.location.href.replace(window.location.protocol+"//"+window.location.host,"")))},__initNav:function(){var e=$("#js-funcTabWrap"),t=$("#js-funcTab");e.height(t.height());var i=(t.find(".j-tab-logo").hasClass("tab-log-activity"),function(){$(document).scrollTop()>=192?function(){t.addClass("m-funcTab-fixed")}():function(){t.removeClass("m-funcTab-fixed")}()});$(window).on("scroll.miniNav",i),i()},__initSubNav:function(){var e=this;$(window).on("resize.cateCard",function(){e.__resizeCatecard()})},__resizeCatecard:function(){var e=$("body"),t=$(".j-nav-cateCard"),i=e.width();t.css({width:i,left:-i/2})},__initNavItem:function(){var e=this;e.__changeWidthFlag=0,$(".j-nav-item").mouseenter(function(t){e.__changeWidthFlag?e.__changeWidthFlag++:e.__resizeCatecard();var i=$(this).find(".j-nav-dropdown");i.stop(!0,!0).fadeIn(200)}),$(".j-nav-item").mouseleave(function(e){var t=$(this).find(".j-nav-dropdown"),i=$(e.relatedTarget);if(i.hasClass("j-nav-item")){var n=i.find(".j-nav-dropdown");t.stop(!0,!0).fadeOut(0),n.stop(!0,!0).fadeIn(0)}else t.stop(!0,!0).fadeOut(200)})},__initSearch:function(){function e(e){m="","placeholder"in document.createElement("input")&&d.attr("placeholder",""),s.call(this,e)}function t(){var e=o.escapeHTML($.trim(d.val())||$.trim(d.attr("placeholder")));""!=e&&(f.__suggestRender({operate:"add"},e),""!=m&&void 0!=m&&""==$.trim(d.val())?top.location.href=m:top.location.href=h+"?keyword="+encodeURIComponent(e)+"#page=1&sortType=0&descSorted=true&categoryId=0&matchType=0")}function i(e){var t=e.find(".hl-item-txt").text();if(t=o.escapeHTML(t),f.__suggestRender({operate:"add"},t),e.hasClass("hl-itemHot")){var i=e.data("url");if(i)return i=currentPageIsIndex?i.indexOf("?")>-1?i+"&_stat_search=hot&_stat_referer=index":i+"?_stat_search=hot&_stat_referer=index":i.indexOf("?")>-1?i+"&_stat_search=hot":i+"?_stat_search=hot",i.indexOf("keyword")<0&&(i=i+"&keyword="+encodeURIComponent(t)),void(top.location.href=i)}top.location.href=h+"?keyword="+encodeURIComponent(t)+"#page=1&sortType=0&descSorted=true&categoryId=0&matchType=0"}function n(){var e=$(this).val()||"";""!=e&&r.searchAutoComplete({keywordPrefix:e}).done(function(e){f.__suggestRender({operate:"autoComplete",$content:c},e.data||[])})}function s(e){if(38!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode){var t=$(this).val()||"";""==t?f.__suggestRender({$content:c}):n.apply(this)}}var a=$("#j-search");if(0!=a.length){var c=a.find(".js-ppnl-content"),d=a.find(".j-searchInput"),u=a.find(".j-searchButton"),p=a.find(".j-searchSuggest"),f=this,h="/search",m=u.data("searchurl");this.__hotKeyWordList=[],r.getHotKeyword().done(function(e){f.__hotKeyWordList=e.data}),d.placeholder(),l.inputSuggest(p,d,{callback:i}),u.on("click",t),p.on("click mousedown",".j-delete",function(e){return f.__suggestRender({operate:"delete",$content:c},$(e.currentTarget).data("index")),!1}),p.on("click mousedown",".j-deleteAll",function(e){return f.__suggestRender({operate:"deleteAll",$content:c}),!1}),d.on("keydown",function(e){13==e.keyCode&&0==p.find(".hl-item-selected").length&&t()}).on("keyup",s).on("focus",e).on("blur",function(){""==d.val()&&(d.attr("placeholder",d.data("defaultword")),m=u.data("searchurl"))}),$(document).on("mousemove.search",function(e){0==$(e.target).parents("#j-search").length&&_suggest.hideSuggest(p)})}},__suggestRender:function(e,t){var i=$.extend({},{operate:"init",template:'<ul class="m-list">	                  <%if(this.suggestHistory.length>0){%>	                    <%if("'+e.operate+'"!="autoComplete"){%>	                    <li class="top-item">	                        <span class="top-item-txt">最近搜索</span>	                        <span class="w-icon-normal icon-normal-deleteAll j-deleteAll"></span>	                    </li>	                    <%}%>	                  <%}%>	                  <% var maxLen = "'+e.operate+'"!="autoComplete" ? 5 :10;	                    var len = this.suggestHistory.length < maxLen ? this.suggestHistory.length : maxLen%>	                    <%for (var i = 0;i<len;i++){%>	                  <li class="hl-item">	                      <span class="hl-item-txt"><%= this.suggestHistory[i]%></span>	                      <%if("'+e.operate+'"!="autoComplete"){%><span class="w-icon-normal icon-normal-delete j-delete" data-index="<%=i%>"></span> <%}%>	                  </li>	                  <%}%>	                  <%if("'+e.operate+'"!="autoComplete"){%>	                  <%if(this.hotKeyWordList.length>0){%>	                  <li class="top-itemHot" style="margin-top:5px;">	                    <span class="top-item-txt">大家都在搜</span>	                  </li>	                  <%for (var i = 0;i< this.hotKeyWordList.length;i++){%>	                  <li class="hl-item hl-itemHot" data-url=<%=this.hotKeyWordList[i].schemeUrl%>>	                      <span class="hl-item-txt"><%=this.hotKeyWordList[i].keyword%></span>	                  </li>	                  <%}}%>	                  <%}%>	              </ul>'},e),n=JSON.parse(unescape(o.getCookie("_search_history")))||[];switch(i.operate){case"add":if("string"==typeof t&&""!=$.trim(t)){for(var s=0;s<n.length;s++)n[s]==t&&n.splice(s,1);n.length>=5&&n.splice(4,1),n.unshift(t)}break;case"delete":"number"==typeof t&&t>=0&&9>=t&&n.splice(t,1);break;case"deleteAll":n=[];break;case"autoComplete":n=t||[]}"autoComplete"!=i.operate&&o.setCookie("_search_history",JSON.stringify(n),365),i.$content&&(i.$content.html($.jqote(i.template,{suggestHistory:n,hotKeyWordList:this.__hotKeyWordList})),0==n.length&&0==this.__hotKeyWordList.length?l.hideSuggest($("#j-search").find(".j-searchSuggest")):l.showSuggest($("#j-search").find(".j-searchSuggest"),$("#j-search").find(".j-searchInput")))}});e.exports=p},function(e,t,i){var n=i(9),o={add:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/add.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},updateByNum:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/updateByNum.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},updateByCheck:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/updateByCheck.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},selectAll:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/selectAll.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},choosePromotion:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/choosePromotion.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},updateSkuSpec:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/updateSkuSpec.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},deleteCart:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/delete.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},getCarts:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/getCarts.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)}}),i},getMiniCart:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/getMiniCart.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)}}),i},selectGift:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/selectGift.json",data:t,contentType:"application/json",success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)}}),i},getMiniCartNum:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/getMiniCartNum.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i},getRcmdItems:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/cart/rcmd.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)},type:"GET"}),i}};e.exports=o},function(e,t,i){var n=i(9),o={_ajax:function(e,t,i,o){var s=t||{},a=$.Deferred();return n.ajax({url:e,data:s,success:function(e){a.resolve(e)},error:function(e,t,i){a.reject(e,t,i)},type:i||"POST",contentType:o||""}),a},listByItemSearch:function(e){return this._ajax("/xhr/item/listByItemSearch.json",e,"GET")},searchAutoComplete:function(e){return this._ajax("/xhr/search/searchAutoComplete.json",e,"GET")},search:function(e){return this._ajax("/xhr/search/search.json",e,"GET")},getHotKeyword:function(e){return this._ajax("/xhr/search/queryHotKeyWord.json",e,"GET")}};e.exports=o},function(e,t,i){var n=i(7);_suggest={inputSuggest:function(e,t,i,n){function o(t){e.removeClass("js-dropmenu-ppnl"),e.removeClass("f-ani-ppnlmenu"),e.addClass("f-hide"),i.callback&&"function"==typeof i.callback&&i.callback(t)}function s(){var t=e.find(".hl-item-selected:first");t.length>0&&o(t)}var a=t;if(!a.data("__bindInputsuggest")){if(a.data("__bindInputsuggest",!0),"INPUT"===a.get(0).tagName)var t=a;else var t=a.find('input[type="text"]');e.delegate(".hl-item","mouseover",function(e){var t=$(e.currentTarget);t.siblings(".hl-item-hover").removeClass("hl-item-hover"),t.addClass("hl-item-hover")}),e.delegate(".hl-item","mouseout",function(e){var t=$(e.currentTarget);t.removeClass("hl-item-hover")}),e.delegate(".hl-item","mousedown",function(e){var t=$(e.currentTarget);o(t)}),t.bind("keydown",function(t){if(13==t.keyCode)s();else{if(38==t.keyCode){var i=0==e.find(".hl-item-selected:first").length?e.find(".hl-item:first"):e.find(".hl-item-selected:first"),n=i.prevAll(":visible:first");return n.hasClass("top-itemHot")&&(n=e.find(".top-itemHot").prevAll(":visible:first")),n.length>0&&!n.hasClass("top-item")&&!n.hasClass("top-item")&&(n.addClass("hl-item-selected"),i.removeClass("hl-item-selected")),!1}if(40==t.keyCode){var i=0==e.find(".hl-item-selected:first").length?e.find(".hl-item:first"):e.find(".hl-item-selected:first"),o=i.nextAll(":visible:first");return o.hasClass("top-itemHot")&&(o=e.find(".top-itemHot").nextAll(":visible:first")),i.hasClass("hl-item-selected")?o.length>0&&(o.addClass("hl-item-selected"),i.removeClass("hl-item-selected")):i.addClass("hl-item-selected"),!1}}}),t.bind("blur",function(){_suggest.hideSuggest(e)}),t.bind("focus",function(t){return 13==t.keyCode||38==t.keyCode||40==t.keyCode?!1:void _suggest.showSuggest(e,a,n)})}},hideSuggest:function(e){e.removeClass("js-dropmenu-ppnl"),e.removeClass("f-ani-ppnlmenu"),e.addClass("f-hide")},showSuggest:function(e,t,i){return e.find(".hl-item").each(function(e,t){var i=$(t);i.removeClass("hl-item-hover hl-item-selected")}),0==e.find(".hl-item").length?(_suggest.hideSuggest(e),!1):(e.removeClass("f-hide"),e.addClass("js-dropmenu-ppnl"),setTimeout(function(){e.addClass("f-ani-ppnlmenu")},30),i=$.extend({axis:"left,bottom"},i),"border-box"===(t.css("box-sizing")||t.css("-webkit-box-sizing")||t.css("-moz-sizing"))?e.css("width",t.outerWidth()):e.css("width",t.width()),n.dockV(e,t,i),void n.addPop(e,t))}},e.exports=_suggest},function(e,t,i){var n=i(9),o={list:function(e){var t=$.Deferred();return n.ajax({url:"/xhr/coupon/list.json",data:e,success:function(e){t.resolve(e)},error:function(e,i,n){t.reject(e,i,n)},type:"GET"}),t},del:function(e){var t=$.Deferred();return n.ajax({url:"/xhr/coupon/delete.json",data:{id:e},success:function(e){t.resolve(e)},error:function(e,i,n){t.reject(e,i,n)},type:"POST"}),t},activate:function(e){var t=$.Deferred();return n.ajax({url:"/xhr/coupon/activate.json",data:{activationCode:e},success:function(e){var i={1:"兑换成功",2:"此优惠码已被兑换",3:"优惠码错误",4:"兑换次数超限",5:"此兑换码为新用户专享",6:"需要绑定手机",7:"该帐号下手机号曾与"+e.data.countInfo+"绑定领取过",8:"该帐号下手机号曾与"+e.data.countInfo+"绑定消费过",99:"优惠码已过期"};e.data={status:e.data.status,tipMsg:i[e.data.status]||"优惠码错误"},t.resolve(e)},error:function(e,i,n){t.reject(e,i,n)},type:"POST"}),t},count:function(){var e=$.Deferred();return n.ajax({url:"/xhr/coupon/countUnused.json",success:function(t){e.resolve(t)},error:function(t,i,n){e.reject(t,i,n)},type:"POST"}),e}};e.exports=o},function(e,t,i){var n=i(9),o={_ajax:function(e,t,i,o){var s=t||{},a=$.Deferred();return n.ajax({url:e,data:s,success:function(e){a.resolve(e)},error:function(e,t,i){a.reject(e,t,i)},type:i||"POST",contentType:o||""}),a},getCollectNum:function(e){return this._ajax("/xhr/item/countItemCollection.json",e,"GET")},setItemCollect:function(e){return this._ajax("/xhr/item/collectItem.json",e,"GET")},getCollectList:function(e){return this._ajax("/xhr/item/itemCollectionList.json",e,"GET")}};e.exports=o},function(e,t){!function(e){e(jQuery)}(function(e){function t(t){var i={},n=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!n.test(t.name)&&(i[t.name]=t.value)}),i}function i(t,i){var n=this,s=e(this);if(n.value===s.attr(r?"placeholder-x":"placeholder")&&s.hasClass(f.customClass))if(n.value="",s.removeClass(f.customClass),s.data("placeholder-password")){if(s=s.hide().nextAll('input[type="password"]:first').show().attr("id",s.removeAttr("id").data("placeholder-id")),t===!0)return s[0].value=i,i;s.focus()}else n==o()&&n.select()}function n(n){var o,s=this,a=e(this),l=s.id;if(!n||"blur"!==n.type||!a.hasClass(f.customClass))if(""===s.value){if("password"===s.type){if(!a.data("placeholder-textinput")){try{o=a.clone().prop({type:"text"})}catch(c){o=e("<input>").attr(e.extend(t(this),{type:"text"}))}o.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":a,"placeholder-id":l}).bind("focus.placeholder",i),a.data({"placeholder-textinput":o,"placeholder-id":l}).before(o)}s.value="",a=a.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a.data("placeholder-id")).show()}else{var d=a.data("placeholder-password");d&&(d[0].value="",a.attr("id",a.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}a.addClass(f.customClass),a[0].value=a.attr(r?"placeholder-x":"placeholder")}else a.removeClass(f.customClass)}function o(){try{return document.activeElement}catch(e){}}var s,a,r=!1,l="[object OperaMini]"===Object.prototype.toString.call(window.operamini),c="placeholder"in document.createElement("input")&&!l&&!r,d="placeholder"in document.createElement("textarea")&&!l&&!r,u=e.valHooks,p=e.propHooks,f={};c&&d?(a=e.fn.placeholder=function(){return this},a.input=!0,a.textarea=!0):(a=e.fn.placeholder=function(t){var o={customClass:"placeholder"};return f=e.extend({},o,t),this.filter((c?"textarea":":input")+"["+(r?"placeholder-x":"placeholder")+"]").not("."+f.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":i,"blur.placeholder":n}).data("placeholder-enabled",!0).trigger("blur.placeholder")},a.input=c,a.textarea=d,s={get:function(t){var i=e(t),n=i.data("placeholder-password");return n?n[0].value:i.data("placeholder-enabled")&&i.hasClass(f.customClass)?"":t.value},set:function(t,s){var a,r,l=e(t);return""!==s&&(a=l.data("placeholder-textinput"),r=l.data("placeholder-password"),a?(i.call(a[0],!0,s)||(t.value=s),a[0].value=s):r&&(i.call(t,!0,s)||(r[0].value=s),t.value=s)),l.data("placeholder-enabled")?(""===s?(t.value=s,t!=o()&&n.call(t)):(l.hasClass(f.customClass)&&i.call(t),t.value=s),l):(t.value=s,l)}},c||(u.input=s,p.value=s),d||(u.textarea=s,p.value=s),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+f.customClass,this).each(function(){i.call(this,!0,"")});setTimeout(function(){t.each(n)},10)})}),e(window).bind("beforeunload.placeholder",function(){var t=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(t=!1)}catch(i){}t&&e("."+f.customClass).each(function(){this.value=""})}))})},function(e,t,i){var n=i(9),o={confirm:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/welcome/confirm.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,n){i.reject(e,t)}}),i}};e.exports=o},function(e,t,i){var n=i(9),o={_ajax:function(e,t,i){var o=t||{},s=$.Deferred();return n.ajax({url:e,data:o,success:function(e){s.resolve(e)},error:function(e,t,i){s.reject(e,t,i)},type:i||"POST"}),s},show:function(e){return this._ajax("/xhr/gift/newUserGift/show.json",e,"POST")},isNewUser:function(e){return this._ajax("/xhr/gift/newUserGift/isNewUser.json",e,"GET")},get:function(e){return this._ajax("/xhr/gift/newUserGift/get.json",e,"POST")}};e.exports=o},function(e,t,i){var n=i(4),o=i(28),s=i(32),a=i(34),r=i(2),l=i(10),c=i(13);i(6)($);var d='<script id="j-template-newGiftModal" type="x-jqote-template">	  <div>	    <div class="title">	    	<div class="border"></div>	      <div class="text">新人专享好礼</div>	    </div>	    <div class="desc">	    	感谢您访问网易严选，我们为您准备了一份专享礼物	    </div>	    <img src="<%=this.itemPic%>?imageView&quality=90&thumbnail=520y296" alt="" />	    <div class="info">	    	<div class="left">	    		<p class="manuDesc"><%=this.manuDesc%></p>	    		<p class="itemName"><%if(this.pieceNum > 0){%><%=this.pieceNum%><%=this.pieceUnitDesc%>装<%if(this.colorNum < 2){%>&nbsp;&nbsp;<%}%><%}%><%if(this.pieceNum > 0 && this.colorNum > 1){%>/<%}%><%if(this.colorNum > 1){%><%=this.colorNum%>色可选&nbsp;&nbsp;<%}%><%= this.itemName %></p>	    		<p class="price">	    			<span class="retailPrice">&yen;&nbsp;<span class="yen"><%=this.retailPrice%></span></span>	    			<% if(this.comparePrice!=null){%>	    			<span class="comparePrice">参考价：&yen;<%=this.comparePrice%>*</span>	    			<%}%>	    		</p>	    	</div>	    	<div class="right">	    		<a href="javascript:void(0);" class="w-button w-button-primary w-button-xl btn j-ok">新人领券再减&yen;<%=this.reducePrice%></a>	    		<a href="/item/detail?id=<%=this.itemId%>" class="w-button w-button-primary w-button-xl btn j-link" style="display:none;">立即购买</a>	    		<a href="/gift/newUserGift?_stat_referer=newUserGiftModal" class="more">更多新用户优惠&gt;&gt;</a>	    	</div>	    </div>	  </div>	</script>',u=n.extend({__config:function(e){r._$extend(e,{obj:{}})},__init:function(e){this.__supr(e),this.__initNode(),null==r.getCookie("yx_showNewUserEntrance")&&r.setCookie("yx_showNewUserEntrance","true",100)},__initNode:function(){var e=this.__data.obj;this.__body=$($(d).jqote(e)).showDialog({clsName:"m-newGiftModal",onclose:function(){this.__onCancelCallback()}.bind(this)});var t=this.__okBtn=this.__body.find(".j-ok").first();this.__linkBtn=this.__body.find(".j-link").first();t.click($.proxy(this.__onOkCallback,this))},__onCancelCallback:function(){this._$emit("onCancel")},__onOkCallback:function(){var e=this,t={_stat_referer:"newUserGiftModal",_stat_area:"giftItem",_stat_id:e.__data.obj.itemId||0};a.checklogin().then(function(){s.isNewUser(t),o.activate(e.__data.obj.activationCode).done(function(t){var i=t.data;1==i.status?(c.notify("领取成功","error"),e._$emit("onOk"),e.__okBtn.hide(),e.__linkBtn.show()):6==i.status?location.href="/yxhdcn/forNewUserGift?code="+e.__data.obj.activationCode:c.notify(i.tipMsg,"error")})},function(){location.href="/u/login?callback="+encodeURIComponent(l.appendURL("/yxhdcn/forNewUserGift?code="+e.__data.obj.activationCode,t))})}});e.exports=u},function(e,t,i){var n=i(9),o={checklogin:function(e){var t=e||{},i=$.Deferred();return n.ajax({url:"/xhr/common/checklogin.json",data:t,success:function(e){e.data?i.resolve():i.reject()},error:function(e,t,n){i.reject()},type:"GET"}),i}};e.exports=o},,,,,,,,,,,,function(e,t){!function(e){"use strict";e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.hidden="hidden",s.paused=!1,s.positionProp=null,s.respondTo=null,
s.rowCount=1,s.shouldClick=!0,s.$slider=e(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,o=e(t).data("slick")||{},s.options=e.extend({},s.defaults,o,n),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,"undefined"!=typeof document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.changeSlide=e.proxy(s.changeSlide,s),s.clickHandler=e.proxy(s.clickHandler,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.instanceUid=i++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0),s.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):n===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),o.options.vertical===!1?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),o.options.vertical===!1?n[o.animType]="translate3d("+t+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.asNavFor=function(t){var i=this,n=i.options.asNavFor;n&&null!==n&&(n=e(n).not(i.$slider)),null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<div class="slick-dots-wrap"><ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul></div>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading").each(function(){e(this).attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC")}),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,o,s,a,r=this;if(n=document.createDocumentFragment(),s=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,o=Math.ceil(s.length/a),e=0;o>e;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var c=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var d=e*a+(t*r.options.slidesPerRow+i);s.get(d)&&c.appendChild(s.get(d))}l.appendChild(c)}n.appendChild(l)}r.$slider.html(n),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,o,s,a=this,r=!1,l=a.$slider.width(),c=window.innerWidth||e(window).width();if("window"===a.respondTo?s=c:"slider"===a.respondTo?s=l:"min"===a.respondTo&&(s=Math.min(c,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){o=null;for(n in a.breakpoints)a.breakpoints.hasOwnProperty(n)&&(a.originalSettings.mobileFirst===!1?s<a.breakpoints[n]&&(o=a.breakpoints[n]):s>a.breakpoints[n]&&(o=a.breakpoints[n]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||i)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,t===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=o),t||r===!1||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var n,o,s,a=this,r=e(t.target);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),s=a.slideCount%a.options.slidesToScroll!==0,n=s?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":o=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,i);break;case"next":o=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide),t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).off("mouseenter.slick",e.proxy(t.setPaused,t,!0)).off("mouseleave.slick",e.proxy(t.setPaused,t,!1))),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.html(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.options.arrows===!0&&(i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove())),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,s=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!==0&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth*-1,s=(o.options.slidesToShow-(e-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,s=o.slideCount%o.options.slidesToScroll*i*-1))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=o.options.vertical===!1?e*o.slideWidth*-1+o.slideOffset:e*i*-1+s,o.options.variableWidth===!0&&(n=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,o=this;return n=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(t,s){return s.offsetLeft-n+e(s).outerWidth()/2>-1*o.swipeLeft?(i=s,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this,i=t.options.changeSlideByHoverOnDots?"mouseenter.slick":"click.slick";t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.find("li").on(i,{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.setPaused,t,!0)).on("mouseleave.slick",e.proxy(t.setPaused,t,!1))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",e.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("img-lazyloaded")})})},n.src=i})}var i,n,o,s,a=this;a.options.centerMode===!0?a.options.infinite===!0?(o=a.currentSlide+(a.options.slidesToShow/2+1),s=o+a.options.slidesToShow+2):(o=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),s=2+(a.options.slidesToShow/2+1)+a.currentSlide):(o=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,s=o+a.options.slidesToShow,a.options.fade===!0&&(o>0&&o--,s<=a.slideCount&&s++)),i=a.$slider.find(".slick-slide").slice(o,s),t(i),a.slideCount<=a.options.slidesToShow?(n=a.$slider.find(".slick-slide"),t(n)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(n=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),t(n)):0===a.currentSlide&&(n=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay(),t.options.accessibility===!0&&t.initADA()},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var i=this,n=i.currentSlide;i.destroy(!0),e.extend(i,i.initials,{currentSlide:n}),i.init(),t||i.changeSlide({data:{message:"index",index:n}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,o=this,s=o.options.responsive||null;if("array"===e.type(s)&&s.length){o.respondTo=o.options.respondTo||"window";for(t in s)if(n=o.breakpoints.length-1,i=s[t].breakpoint,s.hasOwnProperty(t)){for(;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=s[t].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t]),t.options.autoplay===!0&&t.focusHandler()},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,o={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=i.slideWidth*n*-1,i.options.rtl===!0?e(o).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(t,i,n){var o,s,a=this;if("responsive"===t&&"array"===e.type(i))for(s in i)if("array"!==e.type(a.options.responsive))a.options.responsive=[i[s]];else{for(o=a.options.responsive.length-1;o>=0;)a.options.responsive[o].breakpoint===i[s].breakpoint&&a.options.responsive.splice(o,1),o--;a.options.responsive.push(i[s])}else a.options[t]=i;n===!0&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(e).addClass("slick-current"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.setPaused=function(e){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=e,e?t.autoPlayClear():t.autoPlay())},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(o),void i.asNavFor(o)):void i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var n,o,s,a,r=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),n=e,r=l.getLeft(n),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>n?l.slideCount%l.options.slidesToScroll!==0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?l.slideCount%l.options.slidesToScroll!==0?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),s=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?(l.fadeSlideOut(s),l.fadeSlide(o,function(){l.postSlide(o)})):l.postSlide(o),void l.animateHeight()):void(i!==!0?l.animateSlide(r,function(){l.postSlide(o)}):l.postSlide(o))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":o.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),
i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s,a=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!a.dragging||s&&1!==s.length?!1:(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,a.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),i=a.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),o=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=t+n*o:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*o,a.options.verticalSwiping===!0&&(a.swipeLeft=t+n*o),a.options.fade===!0||a.options.touchMove===!1?!1:a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):e.options.autoplay===!0&&(e.paused=!1,e.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.activateADA=function(){var e=this,t=e.$slider.find("*").is(":focus");e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),t&&e.$slideTrack.find(".slick-active").focus()},t.prototype.focusHandler=function(){var t=this;t.$slider.on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.isPlay&&(n.is(":focus")?(t.autoPlayClear(),t.paused=!0):(t.paused=!1,t.autoPlay()))},0)})},e.fn.slick=function(){var e,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),s=i.length,a=0;for(a;s>a;a++)if("object"==typeof n||"undefined"==typeof n?i[a].slick=new t(i[a],n):e=i[a].slick[n].apply(i[a].slick,o),"undefined"!=typeof e)return e;return i}})},function(e,t){!function(e,t,i,n){var o=e(t);e.fn.lazyload=function(s){function a(){var t=0;l.each(function(){var i=e(this);if(!c.skip_invisible||i.is(":visible"))if(e.abovethetop(this,c)||e.leftofbegin(this,c));else if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else i.trigger("appear"),t=0})}var r,l=this,c={threshold:0,failure_limit:0,event:"scroll.lazyload",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(n!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),n!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),e.extend(c,s)),r=c.container===n||c.container===t?o:e(c.container),0===c.event.indexOf("scroll")&&r.unbind(c.event).bind(c.event,function(){return a()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",c.placeholder),i.one("appear",function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(t,n,c)}e("<img />").bind("load",function(){var n=i.attr("data-"+c.data_attribute);i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[c.effect](c.effect_speed),t.loaded=!0;var o=e.grep(l,function(e){return!e.loaded});if(l=e(o),c.load){var s=l.length;c.load.call(t,s,c)}i.addClass("img-lazyloaded")}).attr("src",i.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&i.unbind(c.event).bind(c.event,function(){t.loaded||i.trigger("appear")})}),o.unbind("resize.lazyload").bind("resize.lazyload",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){a()}),this},e.belowthefold=function(i,s){var a;return a=s.container===n||s.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(s.container).offset().top+e(s.container).height(),a<=e(i).offset().top-s.threshold},e.rightoffold=function(i,s){var a;return a=s.container===n||s.container===t?o.width()+o.scrollLeft():e(s.container).offset().left+e(s.container).width(),a<=e(i).offset().left-s.threshold},e.abovethetop=function(i,s){var a;return a=s.container===n||s.container===t?o.scrollTop():e(s.container).offset().top,a>=e(i).offset().top+s.threshold+e(i).height()},e.leftofbegin=function(i,s){var a;return a=s.container===n||s.container===t?o.scrollLeft():e(s.container).offset().left,a>=e(i).offset().left+s.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},,,,function(e,t,i){var n=i(6),o=i(2),s=i(3),a=i(10);n($),a.getScript("https://webzj.reg.163.com/webapp/javascript/message.js?v="+(new Date).getTime());var r,l,c={show:function(e,t){var i=this;r=$('<div><div id="j-loginFormWrap" style="height:460px;"></div></div>').showDialog({clsName:"m-loginPop",onclose:t}),l=e,window.URS?i.__initURS():a.getScript("https://webzj.reg.163.com/webapp/javascript/message.js?v="+(new Date).getTime(),"utf-8",function(){i.__initURS()})},__initURS:function(){var e=new URS(o._$getLoginConfig(!0));e.logincb=function(e){s._$isFunction(l)?o._$createIframe("/activity/csrf",l):location.href=l,r.closeDialog()}}};e.exports=c},function(e,t,i){var n=i(2),o=i(4),s=i(6),a=i(53),r=i(11),l=i(13),c='<div>	                      <div class="desp">输入手机号，该商品到货将第一时间短信提醒您</div>	                      <input class="mobile j-receiveMobile" type="text" placeholder="请输入接收通知的手机号">	                      <div class="tips j-tips"></div>	                      <a class="btn w-button w-button-primary w-button-xl j-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>',d='<div>	                      <div class="desp">输入手机号，该商品上架将第一时间短信提醒您</div>	                      <input class="mobile j-receiveMobile" type="text" placeholder="请输入接收通知的手机号">	                      <div class="tips j-tips"></div>	                      <a class="btn w-button w-button-primary w-button-xl j-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>';s($);var u=o.extend({__config:function(e){n._$extend(e,{producId:0})},__init:function(e){this.__supr(e),this.__initNode()},__initNode:function(){var e=this.__data,t=e.type||1;1==t?this.__seed_html=c:2==t&&(this.__seed_html=d),this.__body=$(this.__seed_html).showDialog({clsName:"m-remindPop"});var i=this.__input=this.__body.find(".j-receiveMobile").first(),n=(this.__tips=this.__body.find(".j-tips").first(),this.__submit=this.__body.find(".j-submit").first());i.focus(),n.click($.proxy(this.__onSubmitCallBack,this))},__onSubmitCallBack:function(){var e=this.__data,t=e.producId,i=e.type||1,n=this.__input.val(),o=this;if(!n)return this.__tips.text("手机号码不可以为空").show(),!1;if(n&&!r.isCellPhone(n))return this.__tips.text("手机号码格式错误").show(),!1;this.__tips.hide();var s=a.addRemind({itemId:t,mobile:n,type:i});s.done(function(e){l.notify("设置成功","success"),setTimeout(function(){o.__body.closeDialog()},2500)}),s.fail(function(e,t,i){l.notify(t,"error")})}});e.exports=u},function(e,t,i){var n=i(9),o={_ajax:function(e,t,i){var o=t||{},s=$.Deferred();return n.ajax({url:e,data:o,success:function(e){s.resolve(e)},error:function(e,t,i){s.reject(e,t,i)},type:i||"POST"}),s},submit:function(e){return this._ajax("/xhr/winter/sub.json",e)},addRemind:function(e){return this._ajax("/xhr/remind/addRemind.json",e)}};e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(4),o=i(52),s=i(51),a=i(34),r=i(2),l=i(3),c=i(15);i(47),$.fn.product=function(){function e(e,t){var i,n;if(l._$isObject(e)){e.preventDefault();var c=$(e.currentTarget);i=c.attr("data-id"),n=c.attr("data-type")}else if(i=e,n=t,0===$("[data-id="+i+"]").length)return;a.checklogin().then(function(){new o({data:{producId:i,type:n}})},function(){r.setCookie("_remindflag",[i,n].join("_")),s.show(location.pathname+location.search+location.hash)})}var t=r.getCookie("_remindflag")||"",i=t.split("_");t&&(r.setCookie("_remindflag","",-2),e(i[0],i[1])),$("body").on("loginDialog.close",function(){r.setCookie("_remindflag","",-2)}),$(this).find(".j-lazyload").lazyload({effect:"fadeIn",threshold:200}),$(this).find(".j-itemlist-remindBtn").unbind("click").click(e)};var d=n.extend({__init:function(e){this.__supr(e),this.__initNode(e)},__initNode:function(e){var t=this.__getProductTemplate(e.templateOptions),i=$(t).jqote(this.__data);$(e.parentNode).html(i),$(".j-product").product()},__getUnit:function(e){var t="";switch(e){case 0:t="件装";break;case 1:t="条装";break;case 2:t="双装";break;case 3:t="套装";break;case 4:t="支装";break;case 5:t="只装"}return t},__getProductTemplate:function(e){var t={clsName:e.clsName||"",statParams:e.statParams||{},picSize:e.picSize||"250x250",tagLink:e.tagLink||!1,limitedTag:void 0==e.limitedTag?!1:e.limitedTag,newItemTag:void 0==e.newItemTag?!0:e.newItemTag,filterEmpty:e.filterEmpty||!1,filterUpShelf:e.filterUpShelf||!1,filterSoldOut:e.filterSoldOut||!1,isAddCard:e.isAddCard||!1,isShowSoldOut:e.isShowSoldOut||!1,isShowDelete:e.isShowDelete||!1,upShelfRemind:e.upShelfRemind||!1},i="";for(param in t.statParams)i+="&"+param+"="+t.statParams[param];return'<script type="text/x-jqote-template">	    <%	      for(var i=0;i<this.itemList.length;i++){	      var  item=this.itemList[i];	      var __psku = {},len=0;	      if(item.skuSpecList!=null){	        len = item.skuSpecList.length;	      }	      for(var j=0;j< len;j++){	                var _sku =  item.skuList[j];	                if( item.primarySkuId == _sku.id){	                    __psku = _sku;	                    break;	                }	      }	      var pskuString = JSON.stringify(__psku);	      if(!'+t.filterEmpty+"||item.sellVolume != 0){	        if(!"+t.filterUpShelf+"||item.status != 4){	          if(!"+t.filterSoldOut+'||item.status != 0){	    %>	      <li class="item">	        <div class="m-product '+t.clsName+' j-product">						<%if('+t.isShowDelete+'){%>							<div class="w-collectDelete" data-id="<%=item.id%>"><span class="w-icon-normal icon-normal-cart-close" title="删除收藏"></span></div>						<%}%>	          <div class="hd">	            <a href="/item/detail?id=<%= item.id %>'+i+'" title="<%= item.name %>" target="_blank">	              <img class="img j-lazyload img-lazyload" src="'+c.BLANK_PIC+'" data-lazy="<%=(item.primaryPicUrl || item.listPicUrl)%>?imageView&amp;quality=95&amp;thumbnail='+t.picSize+'" data-original="<%=(item.primaryPicUrl || item.listPicUrl)%>?imageView&amp;quality=95&amp;thumbnail='+t.picSize+'" alt="<%= item.name %>">	              <%if ('+t.isShowSoldOut+'&& item.status === 0){%>									<p class="saleOut saleOut-1">已下架</p>								<%}else if (item.status==4){%>	                <% if(!'+t.upShelfRemind+'){%>	                  <p class="saleSoon">即将上架</p>	                <%}else{ %>									<div class="saleSoon saleSoon-1">								  	<div class="empty-con">									  	<span>即将上架</span>									  	<button class="btn w-button j-itemlist-remindBtn" data-id="<%=item.id%>" data-type="2">				                <span>				                  <i class="w-icon-normal icon-normal-phone"></i>上架提醒				                </span>			                </button>				            </div>								  </div>	                <%}%>	              <%}else if (item.sellVolume==0){%>								<div class="empty empty-1">									<div class="empty-con">										<span>已售罄</span>										<button class="btn w-button j-itemlist-remindBtn" data-id="<%=item.id%>" data-type="1" >											<span>												<i class="w-icon-normal icon-normal-phone"></i>到货提醒											</span>										</button>									</div>								</div>								<%}%>	              <%if (!!item.productPlace) {%>	                <div class="colorNum">	                <%=item.productPlace%>	                </div>	              <%} else if (item.colorNum > 1) {%>	                <div class="colorNum">	                  <%=item.colorNum%>色可选	                </div>	              <%}%>	            </a>	          </div>	          <div class="bd">	            <h4 class="name">	              <% if('+t.limitedTag+'&&item.limitedFlag ){%>	                <p class="limitedBugTag status">限时购</p>	              <% }else if('+t.newItemTag+'&&item.newItemFlag ){%>	                <p class="newTag status">新品</p>	              <% } %>	              <a class="name" href="/item/detail?id=<%= item.id %>'+i+'" title="<%= item.name %>" target="_blank">	                <%if(item.pieceNum > 1){%><%=item.pieceNum%><%=item.pieceUnitDesc%>装&nbsp;<%}%><%= item.name %>	              </a>	            </h4>	            <p class="price">	              <span>&yen;<%if(item.primarySkuPreSellStatus!=null && item.primarySkuPreSellStatus==1){%><%= Number(item.primarySkuPreSellPrice).toFixed(2) %><%}else{%><%= Number(item.retailPrice).toFixed(2) %><%}%></span>	              <% if(item.unitPrice){ %>	                <span class="sp" style="margin-left: 0;">	                  <span class="un">/&nbsp;&nbsp;单件</span>	                  <span class="up" style="margin-left: 0;">&yen;<%= item.unitPrice %></span>	                </span>	              <% } %>	              <% if ('+t.tagLink+'&&!!item.tagName){%>	                  <span class="sign"><a href="/item/manufacturer?tagId=<%=item.tagId%>"><%=item.tagName%></a></span>	              <%}%>	            </p>	            <%if('+t.isAddCard+'){	              var sellout=true, lens=0;	              if(item.skuMap!=null){lens=item.skuMap.length;}	              for(var index in item.skuMap){	                  var skuitem = item.skuMap[index]; 	                  if(skuitem.preSellStatus!=null){	                    if(skuitem.preSellStatus==1&&skuitem.preSellVolume!=0||skuitem.preSellStatus==0&&skuitem.sellVolume!=0||skuitem.preSellStatus==2&&skuitem.sellVolume!=0){	                      sellout=false;	                      break;	                    }	                  }else{	                    if(skuitem.sellVolume!=0){	                      sellout=false;	                      break;	                    }	                  }	              }	              if(sellout==false){	            %>	              <div class="addCard j-specValue" data-id="<%=i%> ">	                <a class="btn w-button w-button-primary j-addcart" href="javascript:void(0);">	                  <span>加入购物车</span>	                </a>	              </div>	              <%}else{%>	                <div class="sellout">	                    <span class="btn w-button w-button-disabled">加入购物车</span>	                </div>	              <%}%>	            <%}else if (!'+t.tagLink+'&&!!item.tagName){%>	              <hr>	              <span class="sign tagName">【 <%=item.tagName%> 】</span>	            <%}else if(!'+t.tagLink+'&&item.tagList!=undefined&&item.tagList!=null&&item.tagList.length>0){%>	              <hr>	              <span class="sign tagName">【 <%=item.tagList[0].tagName;%> 】</span>	            <%}else if(!'+t.tagLink+'&&!!item.simpleDesc){%>	              <hr>	              <p class="desc"><%=item.simpleDesc%></p>	            <%}%>	          </div>	        </div>	      </li>	    <%}}}}%>	    </script>'}});e.exports=d},,,,,,,,,,,function(e,t,i){var n=i(9),o={_ajax:function(e,t,i){var o=t||{},s=$.Deferred();return n.ajax({url:e,data:o,success:function(e){s.resolve(e)},error:function(e,t,i){s.reject(e,t,i)},type:i||"POST"}),s},getAdviceList:function(e){return this._ajax("/xhr/zxj/adviceRecord/queryByActivityId.json",e,"GET")},likeAdvice:function(e){return this._ajax("/xhr/zxj/adviceRecord/supportAdvice.json",e,"GET")},submitAdvice:function(e){return this._ajax("/xhr/zxj/adviceRecord/publish.json",e,"POST")},getPastSampleActivity:function(e){return this._ajax("/xhr/zxj/samplePickActivity/queryActivitysPast.json",e,"GET")},likeSample:function(e){return this._ajax("/xhr/zxj/sample/supportSample.json",e,"GET")},getEventList:function(e){return this._ajax("/xhr/tryoutEvent/list.json",e,"GET")},getReportList:function(e){return this._ajax("/xhr/tryoutEvent/report/indexList.json",e,"GET")},getReportDetail:function(e){return this._ajax("/xhr/tryoutEvent/report/detail.json",e,"GET")},submitReport:function(e){return this._ajax("/xhr/tryoutEvent/report/submit.json",e,"POST")},getApplicantList:function(e){return this._ajax("/xhr/tryoutEvent/applyUsers.json",e,"GET")},userApply:function(e){return this._ajax("/xhr/tryoutEvent/user/apply.json",e,"POST")},getEventReportList:function(e){return this._ajax("/xhr/tryoutEvent/reports.json",e,"GET")},countTryoutEvent:function(e){return this._ajax("/xhr/zxj/user/countTryoutEvent.json",e,"GET")},queryTryoutEvent:function(e){return this._ajax("/xhr/zxj/user/queryTryoutEvent.json",e,"POST")},querySamplePickActivity:function(e){return this._ajax("/xhr/zxj/user/querySamplePickActivity.json",e,"POST")},queryAdviceRecord:function(e){return this._ajax("/xhr/zxj/user/queryAdviceRecord.json",e,"POST")},isNeedVerifyCode:function(e){return this._ajax("/xhr/zxj/adviceRecord/isNeedVerifyCode.json",e,"POST")}};e.exports=o},,,,,,,,,,,,,,function(e,t,i){var n=i(9),o={_ajax:function(e,t,i,o){var s=t||{},a=$.Deferred();return n.ajax({url:e,data:s,success:function(e){a.resolve(e)},error:function(e,t,i){a.reject(e,t,i)},type:i||"POST",contentType:o||""}),a},updateFlashSale:function(e){return this._ajax("/xhr/flashSale/getScreen.json",e,"GET")},getUserMobile:function(e){return this._ajax("/xhr/flashSale/getUserMobile.json",e,"GET")},flashSaleRemind:function(e){return this._ajax("/xhr/flashSale/subSaleNotification.json",e,"POST")},getIndexFlashSale:function(e){return this._ajax("/xhr/flashSale/index.json",e,"GET")},getCateUserMobile:function(e){return this._ajax("/xhr/cateSale/getUserMobile.json",e,"GET")},cateSaleRemind:function(e){return this._ajax("/xhr/cateSale/subSaleNotification.json",e,"POST")}};e.exports=o},,,,,,,,,,,,,function(e,t,i){var n=i(2),o=i(4),s=i(102),a=o.extend({__config:function(e){n._$extend(e,{leftTime:0,parent:"#flashSaleContainer",nextScreenId:0,startTime:0,timeStamp:0})},__init:function(e){this.__supr(e),this.__initData(),this.__initCountDown()},__initData:function(){var e;this.__parent=$(this.__data.parent),e=""+new Date(this.__data.startTime).getHours()+"点场",this.__parent.find(".screenHd").text(e)},__initCountDown:function(){this.__ele_hour=this.__parent.find(".j-hour"),this.__ele_minute=this.__parent.find(".j-minute"),this.__ele_second=this.__parent.find(".j-second"),this.__ele_screenHd=this.__parent.find(".screenHd"),-1!==this.__data.nextScreenId?this.__hasNextScreen=!0:this.__hasNextScreen=!1,this.__cache=null,this.__hasCache=!1,this.__cacheTime=Math.ceil(300*Math.random()),n._$countDown({leftTime:this.__data.leftTime||0,serverTime:this.__data.currentTime||new Date},function(e){e.leftTime<=0?this.__countDownFinishHandler():(!this.__hasCache&&this.__hasNextScreen&&Math.floor(e.leftTime/1e3)<this.__cacheTime&&(this.__getCache(),this.__hasCache=!0),this.__ele_hour.text(e.hours),this.__ele_minute.text(e.minutes),this.__ele_second.text(e.seconds))}.bind(this))},__countDownFinishHandler:function(){var e,t,i;if(t=this,!this.__hasNextScreen)return t.__parent.find(".m-flashSale").addClass("hide"),void(i=setTimeout(function(){clearTimeout(i),i=null,t.__parent.html("")},1e3));if(this.__hasCache){if(!this.__cache.itemList||this.__cache.itemList.length<=0)return t.__parent.find(".m-flashSale").addClass("hide"),void(i=setTimeout(function(){clearTimeout(i),i=null,t.__parent.html("")},1e3));this.__data={leftTime:this.__cache.leftTime,parent:this.__parent,nextScreenId:this.__cache.nextScreenId,startTime:this.__cache.startTime,currentTime:this.__cache.currentTime,itemList:this.__cache.itemList,timeStamp:this.__cache.timeStamp},this.__hasCache=!1,this.__render()}else e=s.getIndexFlashSale({screenId:this.__data.nextScreenId}),e.done(function(e){if(!e.data.itemList||e.data.itemList.length<=0)return t.__parent.find(".m-flashSale").addClass("hide"),void(i=setTimeout(function(){clearTimeout(i),i=null,t.__parent.html("")},1e3));var n=e.data;t.__data={leftTime:n.leftTime,parent:t.__parent,nextScreenId:n.nextScreenId,startTime:n.startTime,currentTime:n.currentTime,itemList:n.itemList,timeStamp:Math.ceil(n.currentTime+n.leftTime)},t.__render()}),e.fail(function(e,t,i){})},__render:function(){var e,t,i,n,o,s;n=this.__data.leftTime/1e3,o=Math.floor(n/3600),s=Math.floor(n/60%60),_leftSecond=Math.floor(n%60),e={screenTime:new Date(this.__data.startTime).getHours(),leftHour:o>9?""+o:"0"+o,leftMinute:s>9?""+s:"0"+s,leftSecond:_leftSecond>9?""+_leftSecond:"0"+_leftSecond,itemList:this.__data.itemList},t=this.__getTemplate(),i=$(t).jqote(e),this.__parent.html(i),this.__initCountDown()},__getCache:function(){var e,t;t=this,-1!==this.__data.nextScreenId&&(e=s.getIndexFlashSale({screenId:this.__data.nextScreenId,time:this.__data.timeStamp||0}),e.done(function(e){var i;i=e.data,t.__cache={leftTime:i.leftTime,parent:t.__parent,nextScreenId:i.nextScreenId||-1,startTime:i.startTime,currentTime:i.currentTime,itemList:i.itemList||[],timeStamp:Math.ceil(i.currentTime+i.leftTime)}}),e.fail(function(e,t,i){}))},__getTemplate:function(){return'<script type="text/x-jqote-template">	      <div class="m-flashSale">	        <div class="g-row">	          <header class="hd">	            <h3 class="left">限时购</h3>	            <a href="/flashSale/index?_stat_area=mod_limit_more&_stat_referer=index" target="_blank" class="right">更多抢购&nbsp;&gt;</a>	          </header>	          <section class="bd">	            <div class="flashSaleLt">	              <div class="screenHd"><%= this.screenTime %>点场</div>	              <div class="line"></div>	              <div class="screenEndTips">距离结束还剩</div>	              <div class="m-countDown">	                <span class="w-cd j-hour"><%= this.leftHour %></span>	                <span class="colon">:</span>	                <span class="w-cd j-minute"><%= this.leftMinute %></span>	                <span class="colon">:</span>	                <span class="w-cd j-second"><%= this.leftSecond %></span>	              </div>	              <span class="seeMoreBtn">查看全部&nbsp;&gt;</span>	              <a href="/flashSale/index?_stat_area=mod_limit_item_0&_stat_referer=index" target="_blank" class="link"></a>	            </div>	            <div class="flashSaleRt flashItemList" id="flashItemList">	            <%	            var i = 0, list = this.itemList || [], itemData;	            list = list.length > 4 ? list.slice(0, 4) : list;	            for(;itemData = list[i++];) { %>	              <section class="m-flashSaleProduct flashSaleItem-<%= i%>">	                <div class="lt">	                  <a href="/item/detail?id=<%= itemData.itemId%>&_stat_area=mod_limit_item_<%=i%>&_stat_referer=index" class="picIn" target="_blank" title=<%=itemData.itemName%> >	                    <img src="<%=itemData.primaryPicUrl%>?imageView&quality=95&thumbnail=180x180" alt=<%=itemData.itemName%> class="pic"/>	                    <% if(itemData.currentSellVolume <= 0) {%>	                      <div class="soldOutTips">已抢完</div>	                    <%}%>	                  </a>	                </div>	                <div class="rt">	                  <h2 class="itemName"><a href="/item/detail?id=<%=itemData.itemId%>&_stat_area=mod_limit_item_<%=i%>&_stat_referer=index"  target="_blank" class="link"><%=itemData.itemName%></a></h2>	                  <p class="itemDes"><%=itemData.simpleDesc%></p>	                  <div class="itemNum">	                    <div class="numBar">	                      <%if(itemData.currentSellVolume <= 0){%>	                          <div class="numBarIn" style="width:0px"></div>	                      <%}else {%>	                        <div class="numBarIn hasSellVolume" style="width: <%=itemData.currentSellVolume/itemData.totalSellVolume*150%>px"></div>	                      <%}%>	                    </div>	                    <div class="numTips">还剩<%=itemData.currentSellVolume%>件</div>	                  </div>	                  <div class="itemPrice">	                    <span class="aPrice">限时价<span class="yuan">&yen;</span><span class="aPriceIn bold"><%=itemData.actualPrice%></span></span>	                    <span class="oPrice">原价&nbsp;<span class="oPriceIn">&yen;<%=itemData.retailPrice%></span></span>	                  </div>	                  <% if(itemData.currentSellVolume <= 0) {%>	                    <a class="w-btn soldOutBtn" target="_blank" href="/item/detail?id=<%=itemData.itemId%>&_stat_area=mod_limit_item_<%=i%>&_stat_referer=index">去看看</a>	                  <% }else {%>	                    <a class="w-btn tobuyBtn" target="_blank" href="/item/detail?id=<%=itemData.itemId%>&_stat_area=mod_limit_item_<%=i%>&_stat_referer=index">立即抢购</a>	                  <%}%>	                </div>	              </section>	            <%}%>	            </div>	          </section>	        </div>	      </div>	    </script>'}});e.exports=a},function(e,t,i){var n=i(9),o={_ajax:function(e,t,i,o){var s=t||{},a=$.Deferred();return n.ajax({url:e,data:s,success:function(e){a.resolve(e)},error:function(e,t,i){a.reject(e,t,i)},type:i||"POST",contentType:o||""}),a},getMoreNewItem:function(e){return this._ajax("/xhr/item/getMoreNewItem.json",e,"POST")},getPreNewItem:function(e){return this._ajax("/xhr/item/getPreNewItem.json",e,"POST")},getNewItem:function(e){return this._ajax("/xhr/item/getNewItem.json",e,"POST")}};e.exports=o}]);